var Da=Object.defineProperty;var mo=t=>{throw TypeError(t)};var qa=(t,n,o)=>n in t?Da(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var vo=(t,n,o)=>qa(t,typeof n!="symbol"?n+"":n,o),Cn=(t,n,o)=>n.has(t)||mo("Cannot "+o);var St=(t,n,o)=>(Cn(t,n,"read from private field"),o?o.call(t):n.get(t)),jt=(t,n,o)=>n.has(t)?mo("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,o),Rn=(t,n,o,a)=>(Cn(t,n,"write to private field"),a?a.call(t,o):n.set(t,o),o),wo=(t,n,o)=>(Cn(t,n,"access private method"),o);import"../chunks/Bzak7iHL.js";import{X as La,J as Fa,m as Ta,a8 as et,A as It,u as zn,z as x,B as Z,t as xt,n as Ba,ac as rn,o as it,ab as ut,v as U,aa as So,ao as Wa,b2 as Ga}from"../chunks/DPf3yx9i.js";import{e as Xa,k as xo,a as In,d as Ya}from"../chunks/CJRrYb_s.js";import{f as an,b as rt,d as ja,e as Ot}from"../chunks/DZTUO8BA.js";import{S as Ha}from"../chunks/DDObAZY_.js";import{o as Ka}from"../chunks/DFWDndz8.js";import{i as ln}from"../chunks/CH3JR8z5.js";import{f as Va,g as Bn,h as Mo,j as Za,k as bo,t as Ja,l as Ua,s as Y,e as Dt,i as qt,a as Lt,b as Qa}from"../chunks/B-FoiVzT.js";import{p as te}from"../chunks/BUwVMXLK.js";import{d as ne}from"../chunks/BO6OmMcj.js";var At,Bt,on,On,aa;const $n=class $n{constructor(n){jt(this,On);jt(this,At,new WeakMap);jt(this,Bt);jt(this,on);Rn(this,on,n)}observe(n,o){var a=St(this,At).get(n)||new Set;return a.add(o),St(this,At).set(n,a),wo(this,On,aa).call(this).observe(n,St(this,on)),()=>{var e=St(this,At).get(n);e.delete(o),e.size===0&&(St(this,At).delete(n),St(this,Bt).unobserve(n))}}};At=new WeakMap,Bt=new WeakMap,on=new WeakMap,On=new WeakSet,aa=function(){return St(this,Bt)??Rn(this,Bt,new ResizeObserver(n=>{for(var o of n){$n.entries.set(o.target,o);for(var a of St(this,At).get(o.target)||[])a(o)}}))},vo($n,"entries",new WeakMap);let Wn=$n;var oe=new Wn({box:"border-box"});function Eo(t,n,o){var a=oe.observe(t,()=>o(t[n]));La(()=>(Fa(()=>o(t[n])),a))}const ae=[{contributor_state:" ",amount:316517.03,lat:0,lon:0,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.9078393746,color_rgb:[63,103,222,230]},{contributor_state:"AL",amount:54096.27,lat:32.3182,lon:-86.9023,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1551598153,color_rgb:[64,104,224,230]},{contributor_state:"AR",amount:160482.26,lat:35.201,lon:-92.1999,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.4602978695,color_rgb:[64,104,223,230]},{contributor_state:"AS",amount:35,lat:0,lon:0,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.0001003876,color_rgb:[64,104,224,230]},{contributor_state:"AZ",amount:257944.39,lat:34.0489,lon:-111.0937,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.7398403609,color_rgb:[64,103,223,230]},{contributor_state:"CA",amount:787914706e-2,lat:36.7783,lon:-119.4179,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:30.5990997694,color_rgb:[36,59,175,230]},{contributor_state:"CO",amount:320912.69,lat:39.5501,lon:-105.7821,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.9204470793,color_rgb:[63,103,222,230]},{contributor_state:"CT",amount:241162.97,lat:41.6032,lon:-73.7562,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.6917076148,color_rgb:[64,103,223,230]},{contributor_state:"DC",amount:181297331e-1,lat:38.9072,lon:-77.0369,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:60,color_rgb:[0,0,110,230]},{contributor_state:"DE",amount:38891.7,lat:38.9108,lon:-75.5277,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1115498165,color_rgb:[64,104,224,230]},{contributor_state:"FL",amount:140198244e-2,lat:27.6648,lon:-81.5158,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:12.0211891967,color_rgb:[59,96,216,230]},{contributor_state:"GA",amount:400509.29,lat:32.1656,lon:-82.9071,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:9.1487473624,color_rgb:[63,102,222,230]},{contributor_state:"IA",amount:59149.6,lat:41.878,lon:-93.0977,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1696538599,color_rgb:[64,104,224,230]},{contributor_state:"ID",amount:41997.61,lat:44.0682,lon:-114.742,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1204582388,color_rgb:[64,104,224,230]},{contributor_state:"IL",amount:248559876e-2,lat:40.6331,lon:-89.3985,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:15.1292354282,color_rgb:[56,90,209,230]},{contributor_state:"IN",amount:182288.05,lat:40.2672,lon:-86.1349,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.5228415966,color_rgb:[64,103,223,230]},{contributor_state:"KS",amount:89826.01,lat:39.0119,lon:-98.4842,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2576404459,color_rgb:[64,104,224,230]},{contributor_state:"KY",amount:125736.43,lat:37.8393,lon:-84.27,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.3606393058,color_rgb:[64,104,224,230]},{contributor_state:"LA",amount:54329.72,lat:30.9843,lon:-91.9623,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1558294005,color_rgb:[64,104,224,230]},{contributor_state:"MA",amount:676985603e-2,lat:42.4072,lon:-71.3824,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:27.4174129105,color_rgb:[40,65,182,230]},{contributor_state:"MD",amount:774725.98,lat:39.0458,lon:-76.6413,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:10.2220818551,color_rgb:[62,100,220,230]},{contributor_state:"ME",amount:72053.29,lat:45.2538,lon:-69.4455,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2066644368,color_rgb:[64,104,224,230]},{contributor_state:"MN",amount:312661.49,lat:46.7296,lon:-94.6859,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.8967808511,color_rgb:[63,103,223,230]},{contributor_state:"MO",amount:328504.76,lat:37.9643,lon:-91.8318,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.9422227799,color_rgb:[63,103,222,230]},{contributor_state:"MS",amount:42171.59,lat:32.3547,lon:-89.3985,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1209572512,color_rgb:[64,104,224,230]},{contributor_state:"MT",amount:98202.99,lat:46.8797,lon:-110.3626,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2816674383,color_rgb:[64,104,224,230]},{contributor_state:"NC",amount:141824998e-2,lat:35.7596,lon:-79.0193,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:12.0678480236,color_rgb:[59,96,216,230]},{contributor_state:"ND",amount:12307.76,lat:47.5515,lon:-99.9018,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.0353013206,color_rgb:[64,104,224,230]},{contributor_state:"NE",amount:29026.86,lat:41.4925,lon:-99.9018,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.0832553194,color_rgb:[64,104,224,230]},{contributor_state:"NH",amount:51596.04,lat:43.1939,lon:-71.5724,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1479886143,color_rgb:[64,104,224,230]},{contributor_state:"NJ",amount:483348.74,lat:40.0583,lon:-74.4057,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:9.3863488415,color_rgb:[63,102,221,230]},{contributor_state:"NM",amount:74037.16,lat:34.5199,lon:-105.8701,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2123546055,color_rgb:[64,104,224,230]},{contributor_state:"NV",amount:85708.72,lat:38.8026,lon:-116.4194,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2458311667,color_rgb:[64,104,224,230]},{contributor_state:"NY",amount:476774933e-2,lat:40.7128,lon:-74.006,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:21.6749373966,color_rgb:[47,77,194,230]},{contributor_state:"OH",amount:688887.38,lat:40.4173,lon:-82.9071,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:9.9758781645,color_rgb:[62,101,220,230]},{contributor_state:"OK",amount:92287.22,lat:35.0078,lon:-97.0929,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2646997291,color_rgb:[64,104,224,230]},{contributor_state:"OR",amount:255592.31,lat:43.8041,lon:-120.5542,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.7330940862,color_rgb:[64,103,223,230]},{contributor_state:"PA",amount:764694.38,lat:41.2033,lon:-77.1945,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:10.1933090543,color_rgb:[62,100,220,230]},{contributor_state:"RI",amount:61921.11,lat:41.5801,lon:-71.4774,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1776031507,color_rgb:[64,104,224,230]},{contributor_state:"SC",amount:168709.44,lat:33.8361,lon:-81.1637,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.4838952031,color_rgb:[64,104,223,230]},{contributor_state:"SD",amount:35929.6,lat:43.9695,lon:-99.9018,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1030538723,color_rgb:[64,104,224,230]},{contributor_state:"TN",amount:159623.1,lat:35.5175,lon:-86.5804,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.4578336126,color_rgb:[64,104,223,230]},{contributor_state:"TX",amount:119259668e-2,lat:31.9686,lon:-99.9018,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:11.4206255005,color_rgb:[60,98,217,230]},{contributor_state:"UT",amount:96987.52,lat:39.321,lon:-111.0937,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.2781812072,color_rgb:[64,104,224,230]},{contributor_state:"VA",amount:262972513e-2,lat:37.4316,lon:-78.6569,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:15.5426210637,color_rgb:[55,89,208,230]},{contributor_state:"VT",amount:65296.86,lat:44.5588,lon:-72.5778,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.1872855326,color_rgb:[64,104,224,230]},{contributor_state:"WA",amount:262538008e-2,lat:47.7511,lon:-120.7401,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:15.5301585195,color_rgb:[55,89,208,230]},{contributor_state:"WI",amount:383532.94,lat:43.7844,lon:-89.6165,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:9.1000555149,color_rgb:[63,102,222,230]},{contributor_state:"WV",amount:18730.28,lat:38.5976,lon:-80.4549,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.0537224985,color_rgb:[64,104,224,230]},{contributor_state:"WY",amount:27113.74,lat:43.0759,lon:-107.2903,dest_lat:44.3148,dest_lon:-85.6024,type:"Out of State",width_calc:8.077768077,color_rgb:[64,104,224,230]}],ee=[{county:"Alcona",total_amount:16152.83,lat:44.68,lon:-83.27,radius_calc:2e3},{county:"Alger",total_amount:20102.13,lat:46.41,lon:-86.48,radius_calc:2e3},{county:"Allegan",total_amount:763350.12,lat:42.59,lon:-85.89,radius_calc:6470.2693368627},{county:"Alpena",total_amount:117032.16,lat:45.07,lon:-83.67,radius_calc:2533.4543346912},{county:"Antrim",total_amount:126920.96,lat:44.99,lon:-85.17,radius_calc:2638.3180240646},{county:"Arenac",total_amount:66091.42,lat:44.04,lon:-83.74,radius_calc:2e3},{county:"Baraga",total_amount:47855.87,lat:46.7,lon:-88.34,radius_calc:2e3},{county:"Barry",total_amount:305391.11,lat:42.6,lon:-85.31,radius_calc:4092.4997871948},{county:"Bay",total_amount:460843.71,lat:43.72,lon:-83.95,radius_calc:5027.3289418635},{county:"Benzie",total_amount:206401.22,lat:44.63,lon:-86.04,radius_calc:3364.469535739},{county:"Berrien",total_amount:961810.98,lat:41.94,lon:-86.41,radius_calc:7262.8209153582},{county:"Branch",total_amount:244362.68,lat:41.91,lon:-85.06,radius_calc:3660.8160767177},{county:"Calhoun",total_amount:609552.34,lat:42.25,lon:-85,radius_calc:5781.838699615},{county:"Cass",total_amount:83015.94,lat:41.91,lon:-85.99,radius_calc:2133.7386066909},{county:"Charlevoix",total_amount:139182.33,lat:45.48,lon:-85.35,radius_calc:2762.819556901},{county:"Cheboygan",total_amount:108088.72,lat:45.48,lon:-84.48,radius_calc:2434.7291600763},{county:"Chippewa",total_amount:145183.89,lat:46.32,lon:-84.54,radius_calc:2821.7574771499},{county:"Clare",total_amount:496330.07,lat:43.99,lon:-84.85,radius_calc:5217.2994502136},{county:"Clinton",total_amount:431425.72,lat:42.94,lon:-84.6,radius_calc:4864.2231076161},{county:"Crawford",total_amount:17242.7,lat:44.68,lon:-84.61,radius_calc:2e3},{county:"Delta",total_amount:110308.21,lat:45.84,lon:-86.98,radius_calc:2459.5994591232},{county:"Dickinson",total_amount:81809.7,lat:45.97,lon:-87.9,radius_calc:2118.1800351729},{county:"Eaton",total_amount:276697527e-2,lat:42.59,lon:-84.83,radius_calc:12318.6497994755},{county:"Emmet",total_amount:426180.08,lat:45.53,lon:-84.93,radius_calc:4834.5609914735},{county:"Genesee",total_amount:170290634e-2,lat:43.01,lon:-83.69,radius_calc:9663.9761938957},{county:"Gladwin",total_amount:101147.77,lat:43.98,lon:-84.38,radius_calc:2355.2587527663},{county:"Gogebic",total_amount:15218.82,lat:46.47,lon:-89.79,radius_calc:2e3},{county:"Grand Traverse",total_amount:859564.72,lat:44.73,lon:-85.55,radius_calc:6865.9361638073},{county:"Gratiot",total_amount:178493.44,lat:43.29,lon:-84.6,radius_calc:3128.7553123857},{county:"Hillsdale",total_amount:102643.98,lat:41.88,lon:-84.59,radius_calc:2372.6146732762},{county:"Houghton",total_amount:57087.03,lat:46.98,lon:-88.65,radius_calc:2e3},{county:"Huron",total_amount:191738.64,lat:43.82,lon:-83.02,radius_calc:3242.7636159153},{county:"Ingham",total_amount:1641049076e-2,lat:42.6,lon:-84.37,radius_calc:3e4},{county:"Ionia",total_amount:209305.21,lat:42.94,lon:-85.07,radius_calc:3388.0552953113},{county:"Iosco",total_amount:69192.48,lat:44.3,lon:-83.53,radius_calc:2e3},{county:"Iron",total_amount:11406.9,lat:46.21,lon:-88.53,radius_calc:2e3},{county:"Isabella",total_amount:276422.48,lat:43.64,lon:-84.77,radius_calc:3893.5624940048},{county:"Jackson",total_amount:800870.78,lat:42.25,lon:-84.41,radius_calc:6627.3772793178},{county:"Kalamazoo",total_amount:177891128e-2,lat:42.24,lon:-85.53,radius_calc:9877.2856735846},{county:"Kalkaska",total_amount:34655.13,lat:44.69,lon:-85.08,radius_calc:2e3},{county:"Kent",total_amount:946196393e-2,lat:43.03,lon:-85.55,radius_calc:22779.8633384956},{county:"Keweenaw",total_amount:2214.09,lat:47.42,lon:-88.29,radius_calc:2e3},{county:"Lake",total_amount:29861.27,lat:44.04,lon:-85.79,radius_calc:2e3},{county:"Lapeer",total_amount:208736.59,lat:43.08,lon:-83.22,radius_calc:3383.4499961286},{county:"Leelanau",total_amount:359769.94,lat:44.95,lon:-85.86,radius_calc:4441.942241493},{county:"Lenawee",total_amount:243310.52,lat:41.89,lon:-84.06,radius_calc:3652.9263298897},{county:"Livingston",total_amount:813759.95,lat:42.6,lon:-83.91,radius_calc:6680.4947365347},{county:"Luce",total_amount:19259.83,lat:46.46,lon:-85.52,radius_calc:2e3},{county:"Mackinac",total_amount:65034.04,lat:46.06,lon:-84.85,radius_calc:2e3},{county:"Macomb",total_amount:345848719e-2,lat:42.67,lon:-82.91,radius_calc:13772.2074539905},{county:"Manistee",total_amount:126608.55,lat:44.35,lon:-86.07,radius_calc:2635.0689753486},{county:"Marquette",total_amount:363955.73,lat:46.45,lon:-87.6,radius_calc:4467.7076917342},{county:"Mason",total_amount:103442.12,lat:44.05,lon:-86.32,radius_calc:2381.8213101261},{county:"Mecosta",total_amount:153047.4,lat:43.64,lon:-85.32,radius_calc:2897.1664566866},{county:"Menominee",total_amount:52439.18,lat:45.52,lon:-87.66,radius_calc:2e3},{county:"Midland",total_amount:906048.14,lat:43.64,lon:-84.38,radius_calc:7049.1395266023},{county:"Missaukee",total_amount:44205.42,lat:44.34,lon:-85.09,radius_calc:2e3},{county:"Monroe",total_amount:496985.31,lat:41.91,lon:-83.5,radius_calc:5220.7421750905},{county:"Montcalm",total_amount:152506.4,lat:43.3,lon:-85.16,radius_calc:2892.0413954003},{county:"Montmorency",total_amount:33796.76,lat:45.03,lon:-84.13,radius_calc:2e3},{county:"Muskegon",total_amount:904209.84,lat:43.29,lon:-86.13,radius_calc:7041.984822451},{county:"Newaygo",total_amount:144794.66,lat:43.55,lon:-85.8,radius_calc:2817.9724505187},{county:"Oakland",total_amount:1402884974e-2,lat:42.66,lon:-83.38,radius_calc:27737.7674047382},{county:"Oceana",total_amount:119347.72,lat:43.65,lon:-86.3,radius_calc:2558.3946228407},{county:"Ogemaw",total_amount:39639.19,lat:44.34,lon:-84.13,radius_calc:2e3},{county:"Ontonagon",total_amount:7250.35,lat:46.69,lon:-89.28,radius_calc:2e3},{county:"Osceola",total_amount:50139.99,lat:43.99,lon:-85.32,radius_calc:2e3},{county:"Oscoda",total_amount:161456.47,lat:44.68,lon:-84.13,radius_calc:2975.6935031382},{county:"Otsego",total_amount:118161.16,lat:45.03,lon:-84.61,radius_calc:2545.6450215001},{county:"Ottawa",total_amount:163143742e-2,lat:42.95,lon:-86.05,radius_calc:9459.0098989827},{county:"Presque Isle",total_amount:131352.61,lat:45.35,lon:-83.94,radius_calc:2683.9833885374},{county:"Roscommon",total_amount:57896.93,lat:44.34,lon:-84.61,radius_calc:2e3},{county:"Saginaw",total_amount:705352.28,lat:43.34,lon:-84.05,radius_calc:6219.6150747197},{county:"Sanilac",total_amount:167627.65,lat:43.42,lon:-82.83,radius_calc:3032.0286351723},{county:"Schoolcraft",total_amount:22079.66,lat:46.17,lon:-86.19,radius_calc:2e3},{county:"Shiawassee",total_amount:306203.6,lat:42.94,lon:-84.14,radius_calc:4097.9401984764},{county:"St. Clair",total_amount:851754.85,lat:42.93,lon:-82.67,radius_calc:6834.6735814022},{county:"St. Joseph",total_amount:110600.44,lat:41.91,lon:-85.53,radius_calc:2462.8553062469},{county:"Tuscola",total_amount:243472.82,lat:43.46,lon:-83.43,radius_calc:3654.1444669189},{county:"Van Buren",total_amount:104499619e-2,lat:42.24,lon:-86.03,radius_calc:7570.3825107612},{county:"Washtenaw",total_amount:557989578e-2,lat:42.25,lon:-83.84,radius_calc:17493.3712884735},{county:"Wayne",total_amount:1228125856e-2,lat:42.28,lon:-83.28,radius_calc:25952.6618196743},{county:"Wexford",total_amount:64767.22,lat:44.34,lon:-85.57,radius_calc:2e3}],re=[{county:"Alcona",total_amount:7478.7,lat:44.68,lon:-83.27,radius_calc:2e3},{county:"Alger",total_amount:950.55,lat:46.41,lon:-86.48,radius_calc:2e3},{county:"Allegan",total_amount:322931.84,lat:42.59,lon:-85.89,radius_calc:3505.5570766937},{county:"Alpena",total_amount:72386.68,lat:45.07,lon:-83.67,radius_calc:2e3},{county:"Antrim",total_amount:121224.78,lat:44.99,lon:-85.17,radius_calc:2147.8171772733},{county:"Arenac",total_amount:16265.85,lat:44.04,lon:-83.74,radius_calc:2e3},{county:"Baraga",total_amount:27206.17,lat:46.7,lon:-88.34,radius_calc:2e3},{county:"Barry",total_amount:49766.42,lat:42.6,lon:-85.31,radius_calc:2e3},{county:"Bay",total_amount:317544.07,lat:43.72,lon:-83.95,radius_calc:3476.1908531201},{county:"Benzie",total_amount:31533.04,lat:44.63,lon:-86.04,radius_calc:2e3},{county:"Berrien",total_amount:887223.52,lat:41.94,lon:-86.41,radius_calc:5810.5619012025},{county:"Branch",total_amount:141542.12,lat:41.91,lon:-85.06,radius_calc:2320.8360247199},{county:"Calhoun",total_amount:171140931e-2,lat:42.25,lon:-85,radius_calc:8070.0932706113},{county:"Cass",total_amount:31133.06,lat:41.91,lon:-85.99,radius_calc:2e3},{county:"Charlevoix",total_amount:102386.24,lat:45.48,lon:-85.35,radius_calc:2e3},{county:"Cheboygan",total_amount:122235.46,lat:45.48,lon:-84.48,radius_calc:2156.752025826},{county:"Chippewa",total_amount:56418.46,lat:46.32,lon:-84.54,radius_calc:2e3},{county:"Clare",total_amount:109595.95,lat:43.99,lon:-84.85,radius_calc:2042.2027741889},{county:"Clinton",total_amount:111748386e-2,lat:42.94,lon:-84.6,radius_calc:6521.1206998441},{county:"Crawford",total_amount:9446.54,lat:44.68,lon:-84.61,radius_calc:2e3},{county:"Delta",total_amount:56273.76,lat:45.84,lon:-86.98,radius_calc:2e3},{county:"Dickinson",total_amount:36959.45,lat:45.97,lon:-87.9,radius_calc:2e3},{county:"Eaton",total_amount:153227739e-2,lat:42.59,lon:-84.83,radius_calc:7636.0771164128},{county:"Emmet",total_amount:308340.59,lat:45.53,lon:-84.93,radius_calc:3425.4446831507},{county:"Genesee",total_amount:186462628e-2,lat:43.01,lon:-83.69,radius_calc:8423.5956077485},{county:"Gladwin",total_amount:34020.18,lat:43.98,lon:-84.38,radius_calc:2e3},{county:"Gogebic",total_amount:7284.15,lat:46.47,lon:-89.79,radius_calc:2e3},{county:"Grand Traverse",total_amount:1.1697611199999999e6,lat:44.73,lon:-85.55,radius_calc:6671.9103214383},{county:"Gratiot",total_amount:27435.84,lat:43.29,lon:-84.6,radius_calc:2e3},{county:"Hillsdale",total_amount:34007.59,lat:41.88,lon:-84.59,radius_calc:2e3},{county:"Houghton",total_amount:21695.48,lat:46.98,lon:-88.65,radius_calc:2e3},{county:"Huron",total_amount:19739.44,lat:43.82,lon:-83.02,radius_calc:2e3},{county:"Ingham",total_amount:2365044362e-2,lat:42.6,lon:-84.37,radius_calc:3e4},{county:"Ionia",total_amount:47193.37,lat:42.94,lon:-85.07,radius_calc:2e3},{county:"Iosco",total_amount:29020.01,lat:44.3,lon:-83.53,radius_calc:2e3},{county:"Iron",total_amount:1757.2,lat:46.21,lon:-88.53,radius_calc:2e3},{county:"Isabella",total_amount:97986.35,lat:43.64,lon:-84.77,radius_calc:2e3},{county:"Jackson",total_amount:158254847e-2,lat:42.25,lon:-84.41,radius_calc:7760.3287429681},{county:"Kalamazoo",total_amount:213273344e-2,lat:42.24,lon:-85.53,radius_calc:9008.8612519296},{county:"Kalkaska",total_amount:6267.88,lat:44.69,lon:-85.08,radius_calc:2e3},{county:"Kent",total_amount:508196838e-2,lat:43.03,lon:-85.55,radius_calc:13906.4919363067},{county:"Keweenaw",total_amount:2e3,lat:47.42,lon:-88.29,radius_calc:2e3},{county:"Lake",total_amount:12072.81,lat:44.04,lon:-85.79,radius_calc:2e3},{county:"Lapeer",total_amount:136463.72,lat:43.08,lon:-83.22,radius_calc:2278.8209950989},{county:"Leelanau",total_amount:98283.24,lat:44.95,lon:-85.86,radius_calc:2e3},{county:"Lenawee",total_amount:47566.96,lat:41.89,lon:-84.06,radius_calc:2e3},{county:"Livingston",total_amount:546617.59,lat:42.6,lon:-83.91,radius_calc:4560.8250208977},{county:"Luce",total_amount:438.18,lat:46.46,lon:-85.52,radius_calc:2e3},{county:"Mackinac",total_amount:100087.51,lat:46.06,lon:-84.85,radius_calc:2e3},{county:"Macomb",total_amount:493117258e-2,lat:42.67,lon:-82.91,radius_calc:13698.6165807851},{county:"Manistee",total_amount:56028.59,lat:44.35,lon:-86.07,radius_calc:2e3},{county:"Marquette",total_amount:21336531e-1,lat:46.45,lon:-87.6,radius_calc:9010.8034065887},{county:"Mason",total_amount:91251.87,lat:44.05,lon:-86.32,radius_calc:2e3},{county:"Mecosta",total_amount:63143.71,lat:43.64,lon:-85.32,radius_calc:2e3},{county:"Menominee",total_amount:62089.01,lat:45.52,lon:-87.66,radius_calc:2e3},{county:"Midland",total_amount:452004.8,lat:43.64,lon:-84.38,radius_calc:4147.3733475352},{county:"Missaukee",total_amount:5465.24,lat:44.34,lon:-85.09,radius_calc:2e3},{county:"Monroe",total_amount:470392.85,lat:41.91,lon:-83.5,radius_calc:4230.8922484358},{county:"Montcalm",total_amount:139562.59,lat:43.3,lon:-85.16,radius_calc:2304.5499159866},{county:"Montmorency",total_amount:15315.69,lat:45.03,lon:-84.13,radius_calc:2e3},{county:"Muskegon",total_amount:534754.05,lat:43.29,lon:-86.13,radius_calc:4511.0604851956},{county:"Newaygo",total_amount:64528.55,lat:43.55,lon:-85.8,radius_calc:2e3},{county:"Oakland",total_amount:10190487,lat:42.66,lon:-83.38,radius_calc:19692.419494275},{county:"Oceana",total_amount:17702.82,lat:43.65,lon:-86.3,radius_calc:2e3},{county:"Ogemaw",total_amount:7611.52,lat:44.34,lon:-84.13,radius_calc:2e3},{county:"Ontonagon",total_amount:2569.23,lat:46.69,lon:-89.28,radius_calc:2e3},{county:"Osceola",total_amount:25841.6,lat:43.99,lon:-85.32,radius_calc:2e3},{county:"Oscoda",total_amount:2547.84,lat:44.68,lon:-84.13,radius_calc:2e3},{county:"Otsego",total_amount:103679.17,lat:45.03,lon:-84.61,radius_calc:2e3},{county:"Ottawa",total_amount:101285544e-2,lat:42.95,lon:-86.05,radius_calc:6208.3378340559},{county:"Presque Isle",total_amount:24166.21,lat:45.35,lon:-83.94,radius_calc:2e3},{county:"Roscommon",total_amount:61185.44,lat:44.34,lon:-84.61,radius_calc:2e3},{county:"Saginaw",total_amount:434730.48,lat:43.34,lon:-84.05,radius_calc:4067.3510193559},{county:"Sanilac",total_amount:33080.35,lat:43.42,lon:-82.83,radius_calc:2e3},{county:"Schoolcraft",total_amount:167.61,lat:46.17,lon:-86.19,radius_calc:2e3},{county:"Shiawassee",total_amount:214227.48,lat:42.94,lon:-84.14,radius_calc:2855.2175118196},{county:"St. Clair",total_amount:194614.89,lat:42.93,lon:-82.67,radius_calc:2721.382837639},{county:"St. Joseph",total_amount:35386.1,lat:41.91,lon:-85.53,radius_calc:2e3},{county:"Tuscola",total_amount:137220.27,lat:43.46,lon:-83.43,radius_calc:2285.1291153736},{county:"Van Buren",total_amount:693755.53,lat:42.24,lon:-86.03,radius_calc:5138.1270403883},{county:"Washtenaw",total_amount:172852309e-2,lat:42.25,lon:-83.84,radius_calc:8110.3426275061},{county:"Wayne",total_amount:1441111169e-2,lat:42.28,lon:-83.28,radius_calc:23418.0296255255},{county:"Wexford",total_amount:198272.94,lat:44.34,lon:-85.57,radius_calc:2746.8398050458}];async function ie({fetch:t}){return{usAtlas:await(await t("https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json")).json(),fundingData:ae,miCountyData:ee,expenditureData:re}}const Ri=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));function pn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ea(t){let n,o,a;t.length!==2?(n=pn,o=(r,h)=>pn(t(r),h),a=(r,h)=>t(r)-h):(n=t===pn||t===ne?t:le,o=t,a=t);function e(r,h,c=0,u=r.length){if(c<u){if(n(h,h)!==0)return u;do{const f=c+u>>>1;o(r[f],h)<0?c=f+1:u=f}while(c<u)}return c}function i(r,h,c=0,u=r.length){if(c<u){if(n(h,h)!==0)return u;do{const f=c+u>>>1;o(r[f],h)<=0?c=f+1:u=f}while(c<u)}return c}function l(r,h,c=0,u=r.length){const f=e(r,h,c,u-1);return f>c&&a(r[f-1],h)>-a(r[f],h)?f-1:f}return{left:e,center:l,right:i}}function le(){return 0}function ue(t){return t===null?NaN:+t}const ce=ea(pn),se=ce.right;ea(ue).center;class $t{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const o=this._partials;let a=0;for(let e=0;e<this._n&&e<32;e++){const i=o[e],l=n+i,r=Math.abs(n)<Math.abs(i)?n-(l-i):i-(l-n);r&&(o[a++]=r),n=l}return o[a]=n,this._n=a+1,this}valueOf(){const n=this._partials;let o=this._n,a,e,i,l=0;if(o>0){for(l=n[--o];o>0&&(a=l,e=n[--o],l=a+e,i=e-(l-a),!i););o>0&&(i<0&&n[o-1]<0||i>0&&n[o-1]>0)&&(e=i*2,a=l+e,e==a-l&&(l=a))}return l}}const fe=Math.sqrt(50),he=Math.sqrt(10),_e=Math.sqrt(2);function mn(t,n,o){const a=(n-t)/Math.max(0,o),e=Math.floor(Math.log10(a)),i=a/Math.pow(10,e),l=i>=fe?10:i>=he?5:i>=_e?2:1;let r,h,c;return e<0?(c=Math.pow(10,-e)/l,r=Math.round(t*c),h=Math.round(n*c),r/c<t&&++r,h/c>n&&--h,c=-c):(c=Math.pow(10,e)*l,r=Math.round(t/c),h=Math.round(n/c),r*c<t&&++r,h*c>n&&--h),h<r&&.5<=o&&o<2?mn(t,n,o*2):[r,h,c]}function de(t,n,o){if(n=+n,t=+t,o=+o,!(o>0))return[];if(t===n)return[t];const a=n<t,[e,i,l]=a?mn(n,t,o):mn(t,n,o);if(!(i>=e))return[];const r=i-e+1,h=new Array(r);if(a)if(l<0)for(let c=0;c<r;++c)h[c]=(i-c)/-l;else for(let c=0;c<r;++c)h[c]=(i-c)*l;else if(l<0)for(let c=0;c<r;++c)h[c]=(e+c)/-l;else for(let c=0;c<r;++c)h[c]=(e+c)*l;return h}function Gn(t,n,o){return n=+n,t=+t,o=+o,mn(t,n,o)[2]}function pe(t,n,o){n=+n,t=+t,o=+o;const a=n<t,e=a?Gn(n,t,o):Gn(t,n,o);return(a?-1:1)*(e<0?1/-e:e)}function Dn(t,n){let o;if(n===void 0)for(const a of t)a!=null&&(o<a||o===void 0&&a>=a)&&(o=a);else{let a=-1;for(let e of t)(e=n(e,++a,t))!=null&&(o<e||o===void 0&&e>=e)&&(o=e)}return o}function*ge(t){for(const n of t)yield*n}function ra(t){return Array.from(ge(t))}function ye(t,n){n||(n=[]);var o=t?Math.min(n.length,t.length):0,a=n.slice(),e;return function(i){for(e=0;e<o;++e)a[e]=t[e]*(1-i)+n[e]*i;return a}}function me(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ve(t,n){var o=n?n.length:0,a=t?Math.min(o,t.length):0,e=new Array(a),i=new Array(o),l;for(l=0;l<a;++l)e[l]=lo(t[l],n[l]);for(;l<o;++l)i[l]=n[l];return function(r){for(l=0;l<a;++l)i[l]=e[l](r);return i}}function we(t,n){var o=new Date;return t=+t,n=+n,function(a){return o.setTime(t*(1-a)+n*a),o}}function Se(t,n){var o={},a={},e;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(e in n)e in t?o[e]=lo(t[e],n[e]):a[e]=n[e];return function(i){for(e in o)a[e]=o[e](i);return a}}function lo(t,n){var o=typeof n,a;return n==null||o==="boolean"?Va(n):(o==="number"?Bn:o==="string"?(a=bo(n))?(n=a,Mo):Za:n instanceof bo?Mo:n instanceof Date?we:me(n)?ye:Array.isArray(n)?ve:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Se:Bn)(t,n)}function xe(t,n){return t=+t,n=+n,function(o){return Math.round(t*(1-o)+n*o)}}function Me(t){const n=+this._x.call(null,t),o=+this._y.call(null,t);return ia(this.cover(n,o),n,o,t)}function ia(t,n,o,a){if(isNaN(n)||isNaN(o))return t;var e,i=t._root,l={data:a},r=t._x0,h=t._y0,c=t._x1,u=t._y1,f,s,_,d,p,g,v,w;if(!i)return t._root=l,t;for(;i.length;)if((p=n>=(f=(r+c)/2))?r=f:c=f,(g=o>=(s=(h+u)/2))?h=s:u=s,e=i,!(i=i[v=g<<1|p]))return e[v]=l,t;if(_=+t._x.call(null,i.data),d=+t._y.call(null,i.data),n===_&&o===d)return l.next=i,e?e[v]=l:t._root=l,t;do e=e?e[v]=new Array(4):t._root=new Array(4),(p=n>=(f=(r+c)/2))?r=f:c=f,(g=o>=(s=(h+u)/2))?h=s:u=s;while((v=g<<1|p)===(w=(d>=s)<<1|_>=f));return e[w]=i,e[v]=l,t}function be(t){var n,o,a=t.length,e,i,l=new Array(a),r=new Array(a),h=1/0,c=1/0,u=-1/0,f=-1/0;for(o=0;o<a;++o)isNaN(e=+this._x.call(null,n=t[o]))||isNaN(i=+this._y.call(null,n))||(l[o]=e,r[o]=i,e<h&&(h=e),e>u&&(u=e),i<c&&(c=i),i>f&&(f=i));if(h>u||c>f)return this;for(this.cover(h,c).cover(u,f),o=0;o<a;++o)ia(this,l[o],r[o],t[o]);return this}function Ee(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var o=this._x0,a=this._y0,e=this._x1,i=this._y1;if(isNaN(o))e=(o=Math.floor(t))+1,i=(a=Math.floor(n))+1;else{for(var l=e-o||1,r=this._root,h,c;o>t||t>=e||a>n||n>=i;)switch(c=(n<a)<<1|t<o,h=new Array(4),h[c]=r,r=h,l*=2,c){case 0:e=o+l,i=a+l;break;case 1:o=e-l,i=a+l;break;case 2:e=o+l,a=i-l;break;case 3:o=e-l,a=i-l;break}this._root&&this._root.length&&(this._root=r)}return this._x0=o,this._y0=a,this._x1=e,this._y1=i,this}function Ne(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Ae(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function nt(t,n,o,a,e){this.node=t,this.x0=n,this.y0=o,this.x1=a,this.y1=e}function ke(t,n,o){var a,e=this._x0,i=this._y0,l,r,h,c,u=this._x1,f=this._y1,s=[],_=this._root,d,p;for(_&&s.push(new nt(_,e,i,u,f)),o==null?o=1/0:(e=t-o,i=n-o,u=t+o,f=n+o,o*=o);d=s.pop();)if(!(!(_=d.node)||(l=d.x0)>u||(r=d.y0)>f||(h=d.x1)<e||(c=d.y1)<i))if(_.length){var g=(l+h)/2,v=(r+c)/2;s.push(new nt(_[3],g,v,h,c),new nt(_[2],l,v,g,c),new nt(_[1],g,r,h,v),new nt(_[0],l,r,g,v)),(p=(n>=v)<<1|t>=g)&&(d=s[s.length-1],s[s.length-1]=s[s.length-1-p],s[s.length-1-p]=d)}else{var w=t-+this._x.call(null,_.data),E=n-+this._y.call(null,_.data),M=w*w+E*E;if(M<o){var S=Math.sqrt(o=M);e=t-S,i=n-S,u=t+S,f=n+S,a=_.data}}return a}function Oe(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var n,o=this._root,a,e,i,l=this._x0,r=this._y0,h=this._x1,c=this._y1,u,f,s,_,d,p,g,v;if(!o)return this;if(o.length)for(;;){if((d=u>=(s=(l+h)/2))?l=s:h=s,(p=f>=(_=(r+c)/2))?r=_:c=_,n=o,!(o=o[g=p<<1|d]))return this;if(!o.length)break;(n[g+1&3]||n[g+2&3]||n[g+3&3])&&(a=n,v=g)}for(;o.data!==t;)if(e=o,!(o=o.next))return this;return(i=o.next)&&delete o.next,e?(i?e.next=i:delete e.next,this):n?(i?n[g]=i:delete n[g],(o=n[0]||n[1]||n[2]||n[3])&&o===(n[3]||n[2]||n[1]||n[0])&&!o.length&&(a?a[v]=o:this._root=o),this):(this._root=i,this)}function $e(t){for(var n=0,o=t.length;n<o;++n)this.remove(t[n]);return this}function Pe(){return this._root}function Ce(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function Re(t){var n=[],o,a=this._root,e,i,l,r,h;for(a&&n.push(new nt(a,this._x0,this._y0,this._x1,this._y1));o=n.pop();)if(!t(a=o.node,i=o.x0,l=o.y0,r=o.x1,h=o.y1)&&a.length){var c=(i+r)/2,u=(l+h)/2;(e=a[3])&&n.push(new nt(e,c,u,r,h)),(e=a[2])&&n.push(new nt(e,i,u,c,h)),(e=a[1])&&n.push(new nt(e,c,l,r,u)),(e=a[0])&&n.push(new nt(e,i,l,c,u))}return this}function ze(t){var n=[],o=[],a;for(this._root&&n.push(new nt(this._root,this._x0,this._y0,this._x1,this._y1));a=n.pop();){var e=a.node;if(e.length){var i,l=a.x0,r=a.y0,h=a.x1,c=a.y1,u=(l+h)/2,f=(r+c)/2;(i=e[0])&&n.push(new nt(i,l,r,u,f)),(i=e[1])&&n.push(new nt(i,u,r,h,f)),(i=e[2])&&n.push(new nt(i,l,f,u,c)),(i=e[3])&&n.push(new nt(i,u,f,h,c))}o.push(a)}for(;a=o.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function Ie(t){return t[0]}function De(t){return arguments.length?(this._x=t,this):this._x}function qe(t){return t[1]}function Le(t){return arguments.length?(this._y=t,this):this._y}function la(t,n,o){var a=new uo(n??Ie,o??qe,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function uo(t,n,o,a,e,i){this._x=t,this._y=n,this._x0=o,this._y0=a,this._x1=e,this._y1=i,this._root=void 0}function No(t){for(var n={data:t.data},o=n;t=t.next;)o=o.next={data:t.data};return n}var ot=la.prototype=uo.prototype;ot.copy=function(){var t=new uo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,o,a;if(!n)return t;if(!n.length)return t._root=No(n),t;for(o=[{source:n,target:t._root=new Array(4)}];n=o.pop();)for(var e=0;e<4;++e)(a=n.source[e])&&(a.length?o.push({source:a,target:n.target[e]=new Array(4)}):n.target[e]=No(a));return t};ot.add=Me;ot.addAll=be;ot.cover=Ee;ot.data=Ne;ot.extent=Ae;ot.find=ke;ot.remove=Oe;ot.removeAll=$e;ot.root=Pe;ot.size=Ce;ot.visit=Re;ot.visitAfter=ze;ot.x=De;ot.y=Le;function mt(t){return function(){return t}}function Ao(t){return(t()-.5)*1e-6}function Fe(t){return t.x+t.vx}function Te(t){return t.y+t.vy}function Be(t){var n,o,a,e=1,i=1;typeof t!="function"&&(t=mt(t==null?1:+t));function l(){for(var c,u=n.length,f,s,_,d,p,g,v=0;v<i;++v)for(f=la(n,Fe,Te).visitAfter(r),c=0;c<u;++c)s=n[c],p=o[s.index],g=p*p,_=s.x+s.vx,d=s.y+s.vy,f.visit(w);function w(E,M,S,O,z){var k=E.data,$=E.r,I=p+$;if(k){if(k.index>s.index){var m=_-k.x-k.vx,F=d-k.y-k.vy,P=m*m+F*F;P<I*I&&(m===0&&(m=Ao(a),P+=m*m),F===0&&(F=Ao(a),P+=F*F),P=(I-(P=Math.sqrt(P)))/P*e,s.vx+=(m*=P)*(I=($*=$)/(g+$)),s.vy+=(F*=P)*I,k.vx-=m*(I=1-I),k.vy-=F*I)}return}return M>_+I||O<_-I||S>d+I||z<d-I}}function r(c){if(c.data)return c.r=o[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function h(){if(n){var c,u=n.length,f;for(o=new Array(u),c=0;c<u;++c)f=n[c],o[f.index]=+t(f,c,n)}}return l.initialize=function(c,u){n=c,a=u,h()},l.iterations=function(c){return arguments.length?(i=+c,l):i},l.strength=function(c){return arguments.length?(e=+c,l):e},l.radius=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),h(),l):t},l}const We=1664525,Ge=1013904223,ko=4294967296;function Xe(){let t=1;return()=>(t=(We*t+Ge)%ko)/ko}var Ye=10,je=Math.PI*(3-Math.sqrt(5));function He(t){var n,o=1,a=.001,e=1-Math.pow(a,1/300),i=0,l=.6,r=new Map,h=Ja(f),c=Ua("tick","end"),u=Xe();t==null&&(t=[]);function f(){s(),c.call("tick",n),o<a&&(h.stop(),c.call("end",n))}function s(p){var g,v=t.length,w;p===void 0&&(p=1);for(var E=0;E<p;++E)for(o+=(i-o)*e,r.forEach(function(M){M(o)}),g=0;g<v;++g)w=t[g],w.fx==null?w.x+=w.vx*=l:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=l:(w.y=w.fy,w.vy=0);return n}function _(){for(var p=0,g=t.length,v;p<g;++p){if(v=t[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var w=Ye*Math.sqrt(.5+p),E=p*je;v.x=w*Math.cos(E),v.y=w*Math.sin(E)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function d(p){return p.initialize&&p.initialize(t,u),p}return _(),n={tick:s,restart:function(){return h.restart(f),n},stop:function(){return h.stop(),n},nodes:function(p){return arguments.length?(t=p,_(),r.forEach(d),n):t},alpha:function(p){return arguments.length?(o=+p,n):o},alphaMin:function(p){return arguments.length?(a=+p,n):a},alphaDecay:function(p){return arguments.length?(e=+p,n):+e},alphaTarget:function(p){return arguments.length?(i=+p,n):i},velocityDecay:function(p){return arguments.length?(l=1-p,n):1-l},randomSource:function(p){return arguments.length?(u=p,r.forEach(d),n):u},force:function(p,g){return arguments.length>1?(g==null?r.delete(p):r.set(p,d(g)),n):r.get(p)},find:function(p,g,v){var w=0,E=t.length,M,S,O,z,k;for(v==null?v=1/0:v*=v,w=0;w<E;++w)z=t[w],M=p-z.x,S=g-z.y,O=M*M+S*S,O<v&&(k=z,v=O);return k},on:function(p,g){return arguments.length>1?(c.on(p,g),n):c.on(p)}}}function un(t){var n=mt(.1),o,a,e;typeof t!="function"&&(t=mt(t==null?0:+t));function i(r){for(var h=0,c=o.length,u;h<c;++h)u=o[h],u.vx+=(e[h]-u.x)*a[h]*r}function l(){if(o){var r,h=o.length;for(a=new Array(h),e=new Array(h),r=0;r<h;++r)a[r]=isNaN(e[r]=+t(o[r],r,o))?0:+n(o[r],r,o)}}return i.initialize=function(r){o=r,l()},i.strength=function(r){return arguments.length?(n=typeof r=="function"?r:mt(+r),l(),i):n},i.x=function(r){return arguments.length?(t=typeof r=="function"?r:mt(+r),l(),i):t},i}function cn(t){var n=mt(.1),o,a,e;typeof t!="function"&&(t=mt(t==null?0:+t));function i(r){for(var h=0,c=o.length,u;h<c;++h)u=o[h],u.vy+=(e[h]-u.y)*a[h]*r}function l(){if(o){var r,h=o.length;for(a=new Array(h),e=new Array(h),r=0;r<h;++r)a[r]=isNaN(e[r]=+t(o[r],r,o))?0:+n(o[r],r,o)}}return i.initialize=function(r){o=r,l()},i.strength=function(r){return arguments.length?(n=typeof r=="function"?r:mt(+r),l(),i):n},i.y=function(r){return arguments.length?(t=typeof r=="function"?r:mt(+r),l(),i):t},i}function Ke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vn(t,n){if((o=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var o,a=t.slice(0,o);return[a.length>1?a[0]+a.slice(2):a,+t.slice(o+1)]}function Wt(t){return t=vn(Math.abs(t)),t?t[1]:NaN}function Ve(t,n){return function(o,a){for(var e=o.length,i=[],l=0,r=t[0],h=0;e>0&&r>0&&(h+r+1>a&&(r=Math.max(1,a-h)),i.push(o.substring(e-=r,e+r)),!((h+=r+1)>a));)r=t[l=(l+1)%t.length];return i.reverse().join(n)}}function Ze(t){return function(n){return n.replace(/[0-9]/g,function(o){return t[+o]})}}var Je=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wn(t){if(!(n=Je.exec(t)))throw new Error("invalid format: "+t);var n;return new co({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}wn.prototype=co.prototype;function co(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}co.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ue(t){t:for(var n=t.length,o=1,a=-1,e;o<n;++o)switch(t[o]){case".":a=e=o;break;case"0":a===0&&(a=o),e=o;break;default:if(!+t[o])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(e+1):t}var ua;function Qe(t,n){var o=vn(t,n);if(!o)return t+"";var a=o[0],e=o[1],i=e-(ua=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+vn(t,Math.max(0,n+i-1))[0]}function Oo(t,n){var o=vn(t,n);if(!o)return t+"";var a=o[0],e=o[1];return e<0?"0."+new Array(-e).join("0")+a:a.length>e+1?a.slice(0,e+1)+"."+a.slice(e+1):a+new Array(e-a.length+2).join("0")}const $o={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ke,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Oo(t*100,n),r:Oo,s:Qe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Po(t){return t}var Co=Array.prototype.map,Ro=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tr(t){var n=t.grouping===void 0||t.thousands===void 0?Po:Ve(Co.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",e=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Po:Ze(Co.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",r=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function c(f){f=wn(f);var s=f.fill,_=f.align,d=f.sign,p=f.symbol,g=f.zero,v=f.width,w=f.comma,E=f.precision,M=f.trim,S=f.type;S==="n"?(w=!0,S="g"):$o[S]||(E===void 0&&(E=12),M=!0,S="g"),(g||s==="0"&&_==="=")&&(g=!0,s="0",_="=");var O=p==="$"?o:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",z=p==="$"?a:/[%p]/.test(S)?l:"",k=$o[S],$=/[defgprs%]/.test(S);E=E===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(m){var F=O,P=z,D,y,R;if(S==="c")P=k(m)+P,m="";else{m=+m;var B=m<0||1/m<0;if(m=isNaN(m)?h:k(Math.abs(m),E),M&&(m=Ue(m)),B&&+m==0&&d!=="+"&&(B=!1),F=(B?d==="("?d:r:d==="-"||d==="("?"":d)+F,P=(S==="s"?Ro[8+ua/3]:"")+P+(B&&d==="("?")":""),$){for(D=-1,y=m.length;++D<y;)if(R=m.charCodeAt(D),48>R||R>57){P=(R===46?e+m.slice(D+1):m.slice(D))+P,m=m.slice(0,D);break}}}w&&!g&&(m=n(m,1/0));var H=F.length+m.length+P.length,X=H<v?new Array(v-H+1).join(s):"";switch(w&&g&&(m=n(X+m,X.length?v-P.length:1/0),X=""),_){case"<":m=F+m+P+X;break;case"=":m=F+X+m+P;break;case"^":m=X.slice(0,H=X.length>>1)+F+m+P+X.slice(H);break;default:m=X+F+m+P;break}return i(m)}return I.toString=function(){return f+""},I}function u(f,s){var _=c((f=wn(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(Wt(s)/3)))*3,p=Math.pow(10,-d),g=Ro[8+d/3];return function(v){return _(p*v)+g}}return{format:c,formatPrefix:u}}var sn,Qt,ca;nr({thousands:",",grouping:[3],currency:["$",""]});function nr(t){return sn=tr(t),Qt=sn.format,ca=sn.formatPrefix,sn}function or(t){return Math.max(0,-Wt(Math.abs(t)))}function ar(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wt(n)/3)))*3-Wt(Math.abs(t)))}function er(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Wt(n)-Wt(t))+1}var L=1e-6,q=Math.PI,ft=q/2,zo=q/4,_t=q*2,dt=180/q,tt=q/180,G=Math.abs,rr=Math.atan,Gt=Math.atan2,j=Math.cos,W=Math.sin,gn=Math.sign||function(t){return t>0?1:t<0?-1:0},bt=Math.sqrt;function ir(t){return t>1?0:t<-1?q:Math.acos(t)}function Pt(t){return t>1?ft:t<-1?-ft:Math.asin(t)}function ht(){}function Sn(t,n){t&&Do.hasOwnProperty(t.type)&&Do[t.type](t,n)}var Io={Feature:function(t,n){Sn(t.geometry,n)},FeatureCollection:function(t,n){for(var o=t.features,a=-1,e=o.length;++a<e;)Sn(o[a].geometry,n)}},Do={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var o=t.coordinates,a=-1,e=o.length;++a<e;)t=o[a],n.point(t[0],t[1],t[2])},LineString:function(t,n){Xn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var o=t.coordinates,a=-1,e=o.length;++a<e;)Xn(o[a],n,0)},Polygon:function(t,n){qo(t.coordinates,n)},MultiPolygon:function(t,n){for(var o=t.coordinates,a=-1,e=o.length;++a<e;)qo(o[a],n)},GeometryCollection:function(t,n){for(var o=t.geometries,a=-1,e=o.length;++a<e;)Sn(o[a],n)}};function Xn(t,n,o){var a=-1,e=t.length-o,i;for(n.lineStart();++a<e;)i=t[a],n.point(i[0],i[1],i[2]);n.lineEnd()}function qo(t,n){var o=-1,a=t.length;for(n.polygonStart();++o<a;)Xn(t[o],n,1);n.polygonEnd()}function Ft(t,n){t&&Io.hasOwnProperty(t.type)?Io[t.type](t,n):Sn(t,n)}function Yn(t){return[Gt(t[1],t[0]),Pt(t[2])]}function Xt(t){var n=t[0],o=t[1],a=j(o);return[a*j(n),a*W(n),W(o)]}function fn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function xn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function qn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function jn(t){var n=bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Hn(t,n){function o(a,e){return a=t(a,e),n(a[0],a[1])}return t.invert&&n.invert&&(o.invert=function(a,e){return a=n.invert(a,e),a&&t.invert(a[0],a[1])}),o}function Kn(t,n){return G(t)>q&&(t-=Math.round(t/_t)*_t),[t,n]}Kn.invert=Kn;function lr(t,n,o){return(t%=_t)?n||o?Hn(Fo(t),To(n,o)):Fo(t):n||o?To(n,o):Kn}function Lo(t){return function(n,o){return n+=t,G(n)>q&&(n-=Math.round(n/_t)*_t),[n,o]}}function Fo(t){var n=Lo(t);return n.invert=Lo(-t),n}function To(t,n){var o=j(t),a=W(t),e=j(n),i=W(n);function l(r,h){var c=j(h),u=j(r)*c,f=W(r)*c,s=W(h),_=s*o+u*a;return[Gt(f*e-_*i,u*o-s*a),Pt(_*e+f*i)]}return l.invert=function(r,h){var c=j(h),u=j(r)*c,f=W(r)*c,s=W(h),_=s*e-f*i;return[Gt(f*e+s*i,u*o+_*a),Pt(_*o-u*a)]},l}function ur(t,n,o,a,e,i){if(o){var l=j(n),r=W(n),h=a*o;e==null?(e=n+a*_t,i=n-h/2):(e=Bo(l,e),i=Bo(l,i),(a>0?e<i:e>i)&&(e+=a*_t));for(var c,u=e;a>0?u>i:u<i;u-=h)c=Yn([l,-r*j(u),-r*W(u)]),t.point(c[0],c[1])}}function Bo(t,n){n=Xt(n),n[0]-=t,jn(n);var o=ir(-n[1]);return((-n[2]<0?-o:o)+_t-L)%_t}function sa(){var t=[],n;return{point:function(o,a,e){n.push([o,a,e])},lineStart:function(){t.push(n=[])},lineEnd:ht,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var o=t;return t=[],n=null,o}}}function yn(t,n){return G(t[0]-n[0])<L&&G(t[1]-n[1])<L}function _n(t,n,o,a){this.x=t,this.z=n,this.o=o,this.e=a,this.v=!1,this.n=this.p=null}function fa(t,n,o,a,e){var i=[],l=[],r,h;if(t.forEach(function(d){if(!((p=d.length-1)<=0)){var p,g=d[0],v=d[p],w;if(yn(g,v)){if(!g[2]&&!v[2]){for(e.lineStart(),r=0;r<p;++r)e.point((g=d[r])[0],g[1]);e.lineEnd();return}v[0]+=2*L}i.push(w=new _n(g,d,null,!0)),l.push(w.o=new _n(g,null,w,!1)),i.push(w=new _n(v,d,null,!1)),l.push(w.o=new _n(v,null,w,!0))}}),!!i.length){for(l.sort(n),Wo(i),Wo(l),r=0,h=l.length;r<h;++r)l[r].e=o=!o;for(var c=i[0],u,f;;){for(var s=c,_=!0;s.v;)if((s=s.n)===c)return;u=s.z,e.lineStart();do{if(s.v=s.o.v=!0,s.e){if(_)for(r=0,h=u.length;r<h;++r)e.point((f=u[r])[0],f[1]);else a(s.x,s.n.x,1,e);s=s.n}else{if(_)for(u=s.p.z,r=u.length-1;r>=0;--r)e.point((f=u[r])[0],f[1]);else a(s.x,s.p.x,-1,e);s=s.p}s=s.o,u=s.z,_=!_}while(!s.v);e.lineEnd()}}}function Wo(t){if(n=t.length){for(var n,o=0,a=t[0],e;++o<n;)a.n=e=t[o],e.p=a,a=e;a.n=e=t[0],e.p=a}}function Ln(t){return G(t[0])<=q?t[0]:gn(t[0])*((G(t[0])+q)%_t-q)}function cr(t,n){var o=Ln(n),a=n[1],e=W(a),i=[W(o),-j(o),0],l=0,r=0,h=new $t;e===1?a=ft+L:e===-1&&(a=-ft-L);for(var c=0,u=t.length;c<u;++c)if(s=(f=t[c]).length)for(var f,s,_=f[s-1],d=Ln(_),p=_[1]/2+zo,g=W(p),v=j(p),w=0;w<s;++w,d=M,g=O,v=z,_=E){var E=f[w],M=Ln(E),S=E[1]/2+zo,O=W(S),z=j(S),k=M-d,$=k>=0?1:-1,I=$*k,m=I>q,F=g*O;if(h.add(Gt(F*$*W(I),v*z+F*j(I))),l+=m?k+$*_t:k,m^d>=o^M>=o){var P=xn(Xt(_),Xt(E));jn(P);var D=xn(i,P);jn(D);var y=(m^k>=0?-1:1)*Pt(D[2]);(a>y||a===y&&(P[0]||P[1]))&&(r+=m^k>=0?1:-1)}}return(l<-L||l<L&&h<-1e-12)^r&1}function ha(t,n,o,a){return function(e){var i=n(e),l=sa(),r=n(l),h=!1,c,u,f,s={point:_,lineStart:p,lineEnd:g,polygonStart:function(){s.point=v,s.lineStart=w,s.lineEnd=E,u=[],c=[]},polygonEnd:function(){s.point=_,s.lineStart=p,s.lineEnd=g,u=ra(u);var M=cr(c,a);u.length?(h||(e.polygonStart(),h=!0),fa(u,fr,M,o,e)):M&&(h||(e.polygonStart(),h=!0),e.lineStart(),o(null,null,1,e),e.lineEnd()),h&&(e.polygonEnd(),h=!1),u=c=null},sphere:function(){e.polygonStart(),e.lineStart(),o(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function _(M,S){t(M,S)&&e.point(M,S)}function d(M,S){i.point(M,S)}function p(){s.point=d,i.lineStart()}function g(){s.point=_,i.lineEnd()}function v(M,S){f.push([M,S]),r.point(M,S)}function w(){r.lineStart(),f=[]}function E(){v(f[0][0],f[0][1]),r.lineEnd();var M=r.clean(),S=l.result(),O,z=S.length,k,$,I;if(f.pop(),c.push(f),f=null,!!z){if(M&1){if($=S[0],(k=$.length-1)>0){for(h||(e.polygonStart(),h=!0),e.lineStart(),O=0;O<k;++O)e.point((I=$[O])[0],I[1]);e.lineEnd()}return}z>1&&M&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(sr))}}return s}}function sr(t){return t.length>1}function fr(t,n){return((t=t.x)[0]<0?t[1]-ft-L:ft-t[1])-((n=n.x)[0]<0?n[1]-ft-L:ft-n[1])}const Go=ha(function(){return!0},hr,dr,[-q,-ft]);function hr(t){var n=NaN,o=NaN,a=NaN,e;return{lineStart:function(){t.lineStart(),e=1},point:function(i,l){var r=i>0?q:-q,h=G(i-n);G(h-q)<L?(t.point(n,o=(o+l)/2>0?ft:-ft),t.point(a,o),t.lineEnd(),t.lineStart(),t.point(r,o),t.point(i,o),e=0):a!==r&&h>=q&&(G(n-a)<L&&(n-=a*L),G(i-r)<L&&(i-=r*L),o=_r(n,o,i,l),t.point(a,o),t.lineEnd(),t.lineStart(),t.point(r,o),e=0),t.point(n=i,o=l),a=r},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}function _r(t,n,o,a){var e,i,l=W(t-o);return G(l)>L?rr((W(n)*(i=j(a))*W(o)-W(a)*(e=j(n))*W(t))/(e*i*l)):(n+a)/2}function dr(t,n,o,a){var e;if(t==null)e=o*ft,a.point(-q,e),a.point(0,e),a.point(q,e),a.point(q,0),a.point(q,-e),a.point(0,-e),a.point(-q,-e),a.point(-q,0),a.point(-q,e);else if(G(t[0]-n[0])>L){var i=t[0]<n[0]?q:-q;e=o*i/2,a.point(-i,e),a.point(0,e),a.point(i,e)}else a.point(n[0],n[1])}function pr(t){var n=j(t),o=2*tt,a=n>0,e=G(n)>L;function i(u,f,s,_){ur(_,t,o,s,u,f)}function l(u,f){return j(u)*j(f)>n}function r(u){var f,s,_,d,p;return{lineStart:function(){d=_=!1,p=1},point:function(g,v){var w=[g,v],E,M=l(g,v),S=a?M?0:c(g,v):M?c(g+(g<0?q:-q),v):0;if(!f&&(d=_=M)&&u.lineStart(),M!==_&&(E=h(f,w),(!E||yn(f,E)||yn(w,E))&&(w[2]=1)),M!==_)p=0,M?(u.lineStart(),E=h(w,f),u.point(E[0],E[1])):(E=h(f,w),u.point(E[0],E[1],2),u.lineEnd()),f=E;else if(e&&f&&a^M){var O;!(S&s)&&(O=h(w,f,!0))&&(p=0,a?(u.lineStart(),u.point(O[0][0],O[0][1]),u.point(O[1][0],O[1][1]),u.lineEnd()):(u.point(O[1][0],O[1][1]),u.lineEnd(),u.lineStart(),u.point(O[0][0],O[0][1],3)))}M&&(!f||!yn(f,w))&&u.point(w[0],w[1]),f=w,_=M,s=S},lineEnd:function(){_&&u.lineEnd(),f=null},clean:function(){return p|(d&&_)<<1}}}function h(u,f,s){var _=Xt(u),d=Xt(f),p=[1,0,0],g=xn(_,d),v=fn(g,g),w=g[0],E=v-w*w;if(!E)return!s&&u;var M=n*v/E,S=-n*w/E,O=xn(p,g),z=hn(p,M),k=hn(g,S);qn(z,k);var $=O,I=fn(z,$),m=fn($,$),F=I*I-m*(fn(z,z)-1);if(!(F<0)){var P=bt(F),D=hn($,(-I-P)/m);if(qn(D,z),D=Yn(D),!s)return D;var y=u[0],R=f[0],B=u[1],H=f[1],X;R<y&&(X=y,y=R,R=X);var Et=R-y,ct=G(Et-q)<L,lt=ct||Et<L;if(!ct&&H<B&&(X=B,B=H,H=X),lt?ct?B+H>0^D[1]<(G(D[0]-y)<L?B:H):B<=D[1]&&D[1]<=H:Et>q^(y<=D[0]&&D[0]<=R)){var at=hn($,(-I+P)/m);return qn(at,z),[D,Yn(at)]}}}function c(u,f){var s=a?t:q-t,_=0;return u<-s?_|=1:u>s&&(_|=2),f<-s?_|=4:f>s&&(_|=8),_}return ha(l,r,i,a?[0,-t]:[-q,t-q])}function gr(t,n,o,a,e,i){var l=t[0],r=t[1],h=n[0],c=n[1],u=0,f=1,s=h-l,_=c-r,d;if(d=o-l,!(!s&&d>0)){if(d/=s,s<0){if(d<u)return;d<f&&(f=d)}else if(s>0){if(d>f)return;d>u&&(u=d)}if(d=e-l,!(!s&&d<0)){if(d/=s,s<0){if(d>f)return;d>u&&(u=d)}else if(s>0){if(d<u)return;d<f&&(f=d)}if(d=a-r,!(!_&&d>0)){if(d/=_,_<0){if(d<u)return;d<f&&(f=d)}else if(_>0){if(d>f)return;d>u&&(u=d)}if(d=i-r,!(!_&&d<0)){if(d/=_,_<0){if(d>f)return;d>u&&(u=d)}else if(_>0){if(d<u)return;d<f&&(f=d)}return u>0&&(t[0]=l+u*s,t[1]=r+u*_),f<1&&(n[0]=l+f*s,n[1]=r+f*_),!0}}}}}var Kt=1e9,dn=-Kt;function yr(t,n,o,a){function e(c,u){return t<=c&&c<=o&&n<=u&&u<=a}function i(c,u,f,s){var _=0,d=0;if(c==null||(_=l(c,f))!==(d=l(u,f))||h(c,u)<0^f>0)do s.point(_===0||_===3?t:o,_>1?a:n);while((_=(_+f+4)%4)!==d);else s.point(u[0],u[1])}function l(c,u){return G(c[0]-t)<L?u>0?0:3:G(c[0]-o)<L?u>0?2:1:G(c[1]-n)<L?u>0?1:0:u>0?3:2}function r(c,u){return h(c.x,u.x)}function h(c,u){var f=l(c,1),s=l(u,1);return f!==s?f-s:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=sa(),s,_,d,p,g,v,w,E,M,S,O,z={point:k,lineStart:F,lineEnd:P,polygonStart:I,polygonEnd:m};function k(y,R){e(y,R)&&u.point(y,R)}function $(){for(var y=0,R=0,B=_.length;R<B;++R)for(var H=_[R],X=1,Et=H.length,ct=H[0],lt,at,vt=ct[0],pt=ct[1];X<Et;++X)lt=vt,at=pt,ct=H[X],vt=ct[0],pt=ct[1],at<=a?pt>a&&(vt-lt)*(a-at)>(pt-at)*(t-lt)&&++y:pt<=a&&(vt-lt)*(a-at)<(pt-at)*(t-lt)&&--y;return y}function I(){u=f,s=[],_=[],O=!0}function m(){var y=$(),R=O&&y,B=(s=ra(s)).length;(R||B)&&(c.polygonStart(),R&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),B&&fa(s,r,y,i,c),c.polygonEnd()),u=c,s=_=d=null}function F(){z.point=D,_&&_.push(d=[]),S=!0,M=!1,w=E=NaN}function P(){s&&(D(p,g),v&&M&&f.rejoin(),s.push(f.result())),z.point=k,M&&u.lineEnd()}function D(y,R){var B=e(y,R);if(_&&d.push([y,R]),S)p=y,g=R,v=B,S=!1,B&&(u.lineStart(),u.point(y,R));else if(B&&M)u.point(y,R);else{var H=[w=Math.max(dn,Math.min(Kt,w)),E=Math.max(dn,Math.min(Kt,E))],X=[y=Math.max(dn,Math.min(Kt,y)),R=Math.max(dn,Math.min(Kt,R))];gr(H,X,t,n,o,a)?(M||(u.lineStart(),u.point(H[0],H[1])),u.point(X[0],X[1]),B||u.lineEnd(),O=!1):B&&(u.lineStart(),u.point(y,R),O=!1)}w=y,E=R,M=B}return z}}const Vn=t=>t;var Fn=new $t,Zn=new $t,_a,da,Jn,Un,Mt={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){Mt.lineStart=mr,Mt.lineEnd=wr},polygonEnd:function(){Mt.lineStart=Mt.lineEnd=Mt.point=ht,Fn.add(G(Zn)),Zn=new $t},result:function(){var t=Fn/2;return Fn=new $t,t}};function mr(){Mt.point=vr}function vr(t,n){Mt.point=pa,_a=Jn=t,da=Un=n}function pa(t,n){Zn.add(Un*t-Jn*n),Jn=t,Un=n}function wr(){pa(_a,da)}var Yt=1/0,Mn=Yt,tn=-Yt,bn=tn,En={point:Sr,lineStart:ht,lineEnd:ht,polygonStart:ht,polygonEnd:ht,result:function(){var t=[[Yt,Mn],[tn,bn]];return tn=bn=-(Mn=Yt=1/0),t}};function Sr(t,n){t<Yt&&(Yt=t),t>tn&&(tn=t),n<Mn&&(Mn=n),n>bn&&(bn=n)}var Qn=0,to=0,Vt=0,Nn=0,An=0,Tt=0,no=0,oo=0,Zt=0,ga,ya,gt,yt,st={point:Ct,lineStart:Xo,lineEnd:Yo,polygonStart:function(){st.lineStart=br,st.lineEnd=Er},polygonEnd:function(){st.point=Ct,st.lineStart=Xo,st.lineEnd=Yo},result:function(){var t=Zt?[no/Zt,oo/Zt]:Tt?[Nn/Tt,An/Tt]:Vt?[Qn/Vt,to/Vt]:[NaN,NaN];return Qn=to=Vt=Nn=An=Tt=no=oo=Zt=0,t}};function Ct(t,n){Qn+=t,to+=n,++Vt}function Xo(){st.point=xr}function xr(t,n){st.point=Mr,Ct(gt=t,yt=n)}function Mr(t,n){var o=t-gt,a=n-yt,e=bt(o*o+a*a);Nn+=e*(gt+t)/2,An+=e*(yt+n)/2,Tt+=e,Ct(gt=t,yt=n)}function Yo(){st.point=Ct}function br(){st.point=Nr}function Er(){ma(ga,ya)}function Nr(t,n){st.point=ma,Ct(ga=gt=t,ya=yt=n)}function ma(t,n){var o=t-gt,a=n-yt,e=bt(o*o+a*a);Nn+=e*(gt+t)/2,An+=e*(yt+n)/2,Tt+=e,e=yt*t-gt*n,no+=e*(gt+t),oo+=e*(yt+n),Zt+=e*3,Ct(gt=t,yt=n)}function va(t){this._context=t}va.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,_t);break}}},result:ht};var ao=new $t,Tn,wa,Sa,Jt,Ut,nn={point:ht,lineStart:function(){nn.point=Ar},lineEnd:function(){Tn&&xa(wa,Sa),nn.point=ht},polygonStart:function(){Tn=!0},polygonEnd:function(){Tn=null},result:function(){var t=+ao;return ao=new $t,t}};function Ar(t,n){nn.point=xa,wa=Jt=t,Sa=Ut=n}function xa(t,n){Jt-=t,Ut-=n,ao.add(bt(Jt*Jt+Ut*Ut)),Jt=t,Ut=n}let jo,kn,Ho,Ko;class Vo{constructor(n){this._append=n==null?Ma:kr(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,o){switch(this._point){case 0:{this._append`M${n},${o}`,this._point=1;break}case 1:{this._append`L${n},${o}`;break}default:{if(this._append`M${n},${o}`,this._radius!==Ho||this._append!==kn){const a=this._radius,e=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,Ho=a,kn=this._append,Ko=this._,this._=e}this._+=Ko;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ma(t){let n=1;this._+=t[0];for(const o=t.length;n<o;++n)this._+=arguments[n]+t[n]}function kr(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ma;if(n!==jo){const o=10**n;jo=n,kn=function(e){let i=1;this._+=e[0];for(const l=e.length;i<l;++i)this._+=Math.round(arguments[i]*o)/o+e[i]}}return kn}function Or(t,n){let o=3,a=4.5,e,i;function l(r){return r&&(typeof a=="function"&&i.pointRadius(+a.apply(this,arguments)),Ft(r,e(i))),i.result()}return l.area=function(r){return Ft(r,e(Mt)),Mt.result()},l.measure=function(r){return Ft(r,e(nn)),nn.result()},l.bounds=function(r){return Ft(r,e(En)),En.result()},l.centroid=function(r){return Ft(r,e(st)),st.result()},l.projection=function(r){return arguments.length?(e=r==null?(t=null,Vn):(t=r).stream,l):t},l.context=function(r){return arguments.length?(i=r==null?(n=null,new Vo(o)):new va(n=r),typeof a!="function"&&i.pointRadius(a),l):n},l.pointRadius=function(r){return arguments.length?(a=typeof r=="function"?r:(i.pointRadius(+r),+r),l):a},l.digits=function(r){if(!arguments.length)return o;if(r==null)o=null;else{const h=Math.floor(r);if(!(h>=0))throw new RangeError(`invalid digits: ${r}`);o=h}return n===null&&(i=new Vo(o)),l},l.projection(t).digits(o).context(n)}function so(t){return function(n){var o=new eo;for(var a in t)o[a]=t[a];return o.stream=n,o}}function eo(){}eo.prototype={constructor:eo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fo(t,n,o){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),Ft(o,t.stream(En)),n(En.result()),a!=null&&t.clipExtent(a),t}function ho(t,n,o){return fo(t,function(a){var e=n[1][0]-n[0][0],i=n[1][1]-n[0][1],l=Math.min(e/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),r=+n[0][0]+(e-l*(a[1][0]+a[0][0]))/2,h=+n[0][1]+(i-l*(a[1][1]+a[0][1]))/2;t.scale(150*l).translate([r,h])},o)}function ba(t,n,o){return ho(t,[[0,0],n],o)}function Ea(t,n,o){return fo(t,function(a){var e=+n,i=e/(a[1][0]-a[0][0]),l=(e-i*(a[1][0]+a[0][0]))/2,r=-i*a[0][1];t.scale(150*i).translate([l,r])},o)}function Na(t,n,o){return fo(t,function(a){var e=+n,i=e/(a[1][1]-a[0][1]),l=-i*a[0][0],r=(e-i*(a[1][1]+a[0][1]))/2;t.scale(150*i).translate([l,r])},o)}var Zo=16,$r=j(30*tt);function Jo(t,n){return+n?Cr(t,n):Pr(t)}function Pr(t){return so({point:function(n,o){n=t(n,o),this.stream.point(n[0],n[1])}})}function Cr(t,n){function o(a,e,i,l,r,h,c,u,f,s,_,d,p,g){var v=c-a,w=u-e,E=v*v+w*w;if(E>4*n&&p--){var M=l+s,S=r+_,O=h+d,z=bt(M*M+S*S+O*O),k=Pt(O/=z),$=G(G(O)-1)<L||G(i-f)<L?(i+f)/2:Gt(S,M),I=t($,k),m=I[0],F=I[1],P=m-a,D=F-e,y=w*P-v*D;(y*y/E>n||G((v*P+w*D)/E-.5)>.3||l*s+r*_+h*d<$r)&&(o(a,e,i,l,r,h,m,F,$,M/=z,S/=z,O,p,g),g.point(m,F),o(m,F,$,M,S,O,c,u,f,s,_,d,p,g))}}return function(a){var e,i,l,r,h,c,u,f,s,_,d,p,g={point:v,lineStart:w,lineEnd:M,polygonStart:function(){a.polygonStart(),g.lineStart=S},polygonEnd:function(){a.polygonEnd(),g.lineStart=w}};function v(k,$){k=t(k,$),a.point(k[0],k[1])}function w(){f=NaN,g.point=E,a.lineStart()}function E(k,$){var I=Xt([k,$]),m=t(k,$);o(f,s,u,_,d,p,f=m[0],s=m[1],u=k,_=I[0],d=I[1],p=I[2],Zo,a),a.point(f,s)}function M(){g.point=v,a.lineEnd()}function S(){w(),g.point=O,g.lineEnd=z}function O(k,$){E(e=k,$),i=f,l=s,r=_,h=d,c=p,g.point=E}function z(){o(f,s,u,_,d,p,i,l,e,r,h,c,Zo,a),g.lineEnd=M,M()}return g}}var Rr=so({point:function(t,n){this.stream.point(t*tt,n*tt)}});function zr(t){return so({point:function(n,o){var a=t(n,o);return this.stream.point(a[0],a[1])}})}function Ir(t,n,o,a,e){function i(l,r){return l*=a,r*=e,[n+t*l,o-t*r]}return i.invert=function(l,r){return[(l-n)/t*a,(o-r)/t*e]},i}function Uo(t,n,o,a,e,i){if(!i)return Ir(t,n,o,a,e);var l=j(i),r=W(i),h=l*t,c=r*t,u=l/t,f=r/t,s=(r*o-l*n)/t,_=(r*n+l*o)/t;function d(p,g){return p*=a,g*=e,[h*p-c*g+n,o-c*p-h*g]}return d.invert=function(p,g){return[a*(u*p-f*g+s),e*(_-f*p-u*g)]},d}function Dr(t){var n,o=150,a=480,e=250,i=0,l=0,r=0,h=0,c=0,u,f=0,s=1,_=1,d=null,p=Go,g=null,v,w,E,M=Vn,S=.5,O,z,k,$,I;function m(y){return k(y[0]*tt,y[1]*tt)}function F(y){return y=k.invert(y[0],y[1]),y&&[y[0]*dt,y[1]*dt]}m.stream=function(y){return $&&I===y?$:$=Rr(zr(u)(p(O(M(I=y)))))},m.preclip=function(y){return arguments.length?(p=y,d=void 0,D()):p},m.postclip=function(y){return arguments.length?(M=y,g=v=w=E=null,D()):M},m.clipAngle=function(y){return arguments.length?(p=+y?pr(d=y*tt):(d=null,Go),D()):d*dt},m.clipExtent=function(y){return arguments.length?(M=y==null?(g=v=w=E=null,Vn):yr(g=+y[0][0],v=+y[0][1],w=+y[1][0],E=+y[1][1]),D()):g==null?null:[[g,v],[w,E]]},m.scale=function(y){return arguments.length?(o=+y,P()):o},m.translate=function(y){return arguments.length?(a=+y[0],e=+y[1],P()):[a,e]},m.center=function(y){return arguments.length?(i=y[0]%360*tt,l=y[1]%360*tt,P()):[i*dt,l*dt]},m.rotate=function(y){return arguments.length?(r=y[0]%360*tt,h=y[1]%360*tt,c=y.length>2?y[2]%360*tt:0,P()):[r*dt,h*dt,c*dt]},m.angle=function(y){return arguments.length?(f=y%360*tt,P()):f*dt},m.reflectX=function(y){return arguments.length?(s=y?-1:1,P()):s<0},m.reflectY=function(y){return arguments.length?(_=y?-1:1,P()):_<0},m.precision=function(y){return arguments.length?(O=Jo(z,S=y*y),D()):bt(S)},m.fitExtent=function(y,R){return ho(m,y,R)},m.fitSize=function(y,R){return ba(m,y,R)},m.fitWidth=function(y,R){return Ea(m,y,R)},m.fitHeight=function(y,R){return Na(m,y,R)};function P(){var y=Uo(o,0,0,s,_,f).apply(null,n(i,l)),R=Uo(o,a-y[0],e-y[1],s,_,f);return u=lr(r,h,c),z=Hn(n,R),k=Hn(u,z),O=Jo(z,S),D()}function D(){return $=I=null,m}return function(){return n=t.apply(this,arguments),m.invert=n.invert&&F,P()}}function qr(t){var n=0,o=q/3,a=Dr(t),e=a(n,o);return e.parallels=function(i){return arguments.length?a(n=i[0]*tt,o=i[1]*tt):[n*dt,o*dt]},e}function Lr(t){var n=j(t);function o(a,e){return[a*n,W(e)/n]}return o.invert=function(a,e){return[a/n,Pt(e*n)]},o}function Fr(t,n){var o=W(t),a=(o+W(n))/2;if(G(a)<L)return Lr(t);var e=1+o*(2*a-o),i=bt(e)/a;function l(r,h){var c=bt(e-2*a*W(h))/a;return[c*W(r*=a),i-c*j(r)]}return l.invert=function(r,h){var c=i-h,u=Gt(r,G(c))*gn(c);return c*a<0&&(u-=q*gn(r)*gn(c)),[u/a,Pt((e-(r*r+c*c)*a*a)/(2*a))]},l}function ro(){return qr(Fr).scale(155.424).center([0,33.6442])}function Tr(){return ro().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Br(t){var n=t.length;return{point:function(o,a){for(var e=-1;++e<n;)t[e].point(o,a)},sphere:function(){for(var o=-1;++o<n;)t[o].sphere()},lineStart:function(){for(var o=-1;++o<n;)t[o].lineStart()},lineEnd:function(){for(var o=-1;++o<n;)t[o].lineEnd()},polygonStart:function(){for(var o=-1;++o<n;)t[o].polygonStart()},polygonEnd:function(){for(var o=-1;++o<n;)t[o].polygonEnd()}}}function Wr(){var t,n,o=Tr(),a,e=ro().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,l=ro().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r,h,c={point:function(s,_){h=[s,_]}};function u(s){var _=s[0],d=s[1];return h=null,a.point(_,d),h||(i.point(_,d),h)||(r.point(_,d),h)}u.invert=function(s){var _=o.scale(),d=o.translate(),p=(s[0]-d[0])/_,g=(s[1]-d[1])/_;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?e:g>=.166&&g<.234&&p>=-.214&&p<-.115?l:o).invert(s)},u.stream=function(s){return t&&n===s?t:t=Br([o.stream(n=s),e.stream(s),l.stream(s)])},u.precision=function(s){return arguments.length?(o.precision(s),e.precision(s),l.precision(s),f()):o.precision()},u.scale=function(s){return arguments.length?(o.scale(s),e.scale(s*.35),l.scale(s),u.translate(o.translate())):o.scale()},u.translate=function(s){if(!arguments.length)return o.translate();var _=o.scale(),d=+s[0],p=+s[1];return a=o.translate(s).clipExtent([[d-.455*_,p-.238*_],[d+.455*_,p+.238*_]]).stream(c),i=e.translate([d-.307*_,p+.201*_]).clipExtent([[d-.425*_+L,p+.12*_+L],[d-.214*_-L,p+.234*_-L]]).stream(c),r=l.translate([d-.205*_,p+.212*_]).clipExtent([[d-.214*_+L,p+.166*_+L],[d-.115*_-L,p+.234*_-L]]).stream(c),f()},u.fitExtent=function(s,_){return ho(u,s,_)},u.fitSize=function(s,_){return ba(u,s,_)},u.fitWidth=function(s,_){return Ea(u,s,_)},u.fitHeight=function(s,_){return Na(u,s,_)};function f(){return t=n=null,u}return u.scale(1070)}function Gr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Xr(t){return function(){return t}}function Yr(t){return+t}var Qo=[0,1];function kt(t){return t}function io(t,n){return(n-=t=+t)?function(o){return(o-t)/n}:Xr(isNaN(n)?NaN:.5)}function jr(t,n){var o;return t>n&&(o=t,t=n,n=o),function(a){return Math.max(t,Math.min(n,a))}}function Hr(t,n,o){var a=t[0],e=t[1],i=n[0],l=n[1];return e<a?(a=io(e,a),i=o(l,i)):(a=io(a,e),i=o(i,l)),function(r){return i(a(r))}}function Kr(t,n,o){var a=Math.min(t.length,n.length)-1,e=new Array(a),i=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++l<a;)e[l]=io(t[l],t[l+1]),i[l]=o(n[l],n[l+1]);return function(r){var h=se(t,r,1,a)-1;return i[h](e[h](r))}}function Vr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zr(){var t=Qo,n=Qo,o=lo,a,e,i,l=kt,r,h,c;function u(){var s=Math.min(t.length,n.length);return l!==kt&&(l=jr(t[0],t[s-1])),r=s>2?Kr:Hr,h=c=null,f}function f(s){return s==null||isNaN(s=+s)?i:(h||(h=r(t.map(a),n,o)))(a(l(s)))}return f.invert=function(s){return l(e((c||(c=r(n,t.map(a),Bn)))(s)))},f.domain=function(s){return arguments.length?(t=Array.from(s,Yr),u()):t.slice()},f.range=function(s){return arguments.length?(n=Array.from(s),u()):n.slice()},f.rangeRound=function(s){return n=Array.from(s),o=xe,u()},f.clamp=function(s){return arguments.length?(l=s?!0:kt,u()):l!==kt},f.interpolate=function(s){return arguments.length?(o=s,u()):o},f.unknown=function(s){return arguments.length?(i=s,f):i},function(s,_){return a=s,e=_,u()}}function Jr(t,n,o,a){var e=pe(t,n,o),i;switch(a=wn(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(n));return a.precision==null&&!isNaN(i=ar(e,l))&&(a.precision=i),ca(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=er(e,Math.max(Math.abs(t),Math.abs(n))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=or(e))&&(a.precision=i-(a.type==="%")*2);break}}return Qt(a)}function Ur(t){var n=t.domain;return t.ticks=function(o){var a=n();return de(a[0],a[a.length-1],o??10)},t.tickFormat=function(o,a){var e=n();return Jr(e[0],e[e.length-1],o??10,a)},t.nice=function(o){o==null&&(o=10);var a=n(),e=0,i=a.length-1,l=a[e],r=a[i],h,c,u=10;for(r<l&&(c=l,l=r,r=c,c=e,e=i,i=c);u-- >0;){if(c=Gn(l,r,o),c===h)return a[e]=l,a[i]=r,n(a);if(c>0)l=Math.floor(l/c)*c,r=Math.ceil(r/c)*c;else if(c<0)l=Math.ceil(l*c)/c,r=Math.floor(r*c)/c;else break;h=c}return t},t}function ta(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Qr(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ti(t){return t<0?-t*t:t*t}function ni(t){var n=t(kt,kt),o=1;function a(){return o===1?t(kt,kt):o===.5?t(Qr,ti):t(ta(o),ta(1/o))}return n.exponent=function(e){return arguments.length?(o=+e,a()):o},Ur(n)}function Aa(){var t=ni(Zr());return t.copy=function(){return Vr(t,Aa()).exponent(t.exponent())},Gr.apply(t,arguments),t}function Ht(){return Aa.apply(null,arguments).exponent(.5)}function oi(t){return t}function ai(t){if(t==null)return oi;var n,o,a=t.scale[0],e=t.scale[1],i=t.translate[0],l=t.translate[1];return function(r,h){h||(n=o=0);var c=2,u=r.length,f=new Array(u);for(f[0]=(n+=r[0])*a+i,f[1]=(o+=r[1])*e+l;c<u;)f[c]=r[c],++c;return f}}function ei(t,n){for(var o,a=t.length,e=a-n;e<--a;)o=t[e],t[e++]=t[a],t[a]=o}function na(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(o){return oa(t,o)})}:oa(t,n)}function oa(t,n){var o=n.id,a=n.bbox,e=n.properties==null?{}:n.properties,i=ri(t,n);return o==null&&a==null?{type:"Feature",properties:e,geometry:i}:a==null?{type:"Feature",id:o,properties:e,geometry:i}:{type:"Feature",id:o,bbox:a,properties:e,geometry:i}}function ri(t,n){var o=ai(t.transform),a=t.arcs;function e(u,f){f.length&&f.pop();for(var s=a[u<0?~u:u],_=0,d=s.length;_<d;++_)f.push(o(s[_],_));u<0&&ei(f,d)}function i(u){return o(u)}function l(u){for(var f=[],s=0,_=u.length;s<_;++s)e(u[s],f);return f.length<2&&f.push(f[0]),f}function r(u){for(var f=l(u);f.length<4;)f.push(f[0]);return f}function h(u){return u.map(r)}function c(u){var f=u.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":s=i(u.coordinates);break;case"MultiPoint":s=u.coordinates.map(i);break;case"LineString":s=l(u.arcs);break;case"MultiLineString":s=u.arcs.map(l);break;case"Polygon":s=h(u.arcs);break;case"MultiPolygon":s=u.arcs.map(h);break;default:return null}return{type:f,coordinates:s}}return c(n)}var ii=Ot('<path fill="none" stroke="#e0e0e0" stroke-width="1.5" vector-effect="non-scaling-stroke" style="transition: opacity 1s;"></path>'),li=Ot('<path fill="none" stroke="#ccc" stroke-width="0.5" vector-effect="non-scaling-stroke"></path>'),ui=Ot('<g class="mi-center" style="transition: opacity 1s;"></g>'),ci=Ot('<path stroke="#ccc" stroke-width="0.5" vector-effect="non-scaling-stroke" style="transition: fill 1s;"></path>'),si=Ot('<path stroke="#ccc" stroke-width="0.5" vector-effect="non-scaling-stroke" style="transition: fill 1s;"></path>'),fi=Ot('<g class="mi-left"><!><text text-anchor="middle" font-size="20" fill="#08519C" style="pointer-events: none;">Funding Inflow</text></g><g class="mi-right"><!><text text-anchor="middle" font-size="20" fill="#512DA8" style="pointer-events: none;">Expenditures</text></g>',1),hi=Ot('<path fill="none" stroke-linecap="round" opacity="0.9" vector-effect="non-scaling-stroke"></path>'),_i=(t,n,o)=>n(t,x(o)),di=Ot('<circle stroke="white" style="transition: fill 0.5s, opacity 1s, r 1s; cursor: pointer;"></circle>'),pi=an('<div class="tooltip svelte-q10rby"><strong> </strong><br/> <br/> <span style="font-size:0.85em; color:#666; text-transform:capitalize;"> </span></div>'),gi=an('<div class="map-container svelte-q10rby"><svg width="100%" height="100%" preserveAspectRatio="xMidYMid meet"><g class="zoom-group svelte-q10rby"><g class="map-layer"><!><!><!></g><g class="arc-layer"></g><g class="particle-layer"></g></g><g class="labels-layer"><text y="520" text-anchor="middle" font-weight="bold" fill="#D62728" font-size="16">Out-of-State</text><text y="520" text-anchor="middle" font-weight="bold" fill="#08519C" font-size="16">In-State</text></g></svg> <!></div>');function yi(t,n){Ta(n,!0);let o=te(n,"step",3,0),a=rn(()=>n.data.fundingData),e=rn(()=>n.data.miCountyData),i=rn(()=>n.data.expenditureData||[]),l=rn(()=>n.data.usAtlas);const r=960,h=600;let c=et(960),u=et(600),f=Ht().range([4,50]),s=Ht().range([5,30]),_=Ht().range(["#ED9C9C","#D62728"]),d=Ht().range(["#C6DBEF","#08519C"]),p=Ht().range(["#D1C4E9","#512DA8"]),g=et(It([])),v=et(It([])),w=et(It([])),E=et(It([])),M=et(!1),S,O=et("translate(0,0) scale(1)"),z=et(1),k=et(null),$=et(null),I=et(It({x:0,y:0})),m=et(It({x:0,y:0})),F=new Map,P=new Map;const D=Wr().scale(1300).translate([480,300]),y=Or().projection(D),R={x:300,y:320},B={x:700,y:320};Ka(()=>{if(!x(l)||!x(a)||!x(e))return;if(Z(g,na(x(l),x(l).objects.states).features,!0),x(l).objects.counties){const C=na(x(l),x(l).objects.counties).features;Z(v,C.filter(T=>T.id.startsWith("26")),!0)}const N=Dn(x(a),C=>C.amount)||0,A=Dn(x(e),C=>C.total_amount)||0,b=Dn(x(i),C=>C.amount)||0,K=Math.max(N,A,b);f.domain([0,K]),s.domain([0,N]),_.domain([0,N]),d.domain([0,A]),p.domain([0,b]),x(e).forEach(C=>F.set(C.county_id||C.id,C.total_amount)),x(i).forEach(C=>P.set(C.county_id||C.id,C.amount));let V=[],Q=[];x(a).forEach(C=>{const T=D([C.lon,C.lat]),J=D([C.dest_lon,C.dest_lat]);if(T&&J){const Nt=f(C.amount);V.push({...C,type:"out-state",homeX:T[0],homeY:T[1],x:T[0],y:T[1],r:Math.max(3,Nt*.7),r_compare:Nt,formattedAmount:Qt("$,.0f")(C.amount),color:_(C.amount)});const wt=(T[0]+J[0])/2,Rt=J[0]-T[0],zt=J[1]-T[1],Ia=(T[1]+J[1])/2-Math.sqrt(Rt*Rt+zt*zt)*.2;Q.push({path:`M${T[0]},${T[1]} Q${wt},${Ia} ${J[0]},${J[1]}`,color:_(C.amount),strokeWidth:s(C.amount)})}}),x(e).forEach(C=>{const T=D([C.lon,C.lat]);if(T){const J=f(C.total_amount);V.push({...C,type:"in-state",homeX:T[0],homeY:T[1],x:T[0],y:T[1],r_map:Math.max(2,J*.15),r_compare:J,formattedAmount:Qt("$,.0f")(C.total_amount),color:d(C.total_amount)})}}),x(i).forEach(C=>{const T=D([C.lon,C.lat]);if(T){const J=f(C.total_amount);V.push({...C,type:"expenditure",homeX:T[0],homeY:T[1],x:T[0],y:T[1],r_map:Math.max(2,J*.15),r_compare:J,formattedAmount:Qt("$,.0f")(C.total_amount),color:p(C.amount)})}}),Z(w,V,!0),Z(E,Q,!0),S=He(x(w)).alphaDecay(.02).on("tick",()=>{Z(w,[...x(w)],!0)}),Z(M,!0)}),zn(()=>{if(x(g).length>0&&!x(k)){const N=x(g).find(A=>A.id==="26");if(N){const A=y.bounds(N);Z(m,{x:(A[0][0]+A[1][0])/2,y:(A[0][1]+A[1][1])/2},!0);const b=.85/Math.max((A[1][0]-A[0][0])/r,(A[1][1]-A[0][1])/h);Z(k,{x:x(m).x,y:x(m).y,k:b},!0)}}}),zn(()=>{if(o()>=3&&x(k)){let N=o()>=4?x(k).k*.7:x(k).k;Z(O,`translate(${r/2-N*x(k).x}px, ${h/2-N*x(k).y}px) scale(${N})`),Z(z,N,!0)}else Z(O,"translate(0,0) scale(1)"),Z(z,1)}),zn(()=>{if(!x(M)||!S)return;S.alpha(1).restart();const N=Be().radius(b=>H(b,o())+1.5).strength(.8);S.force("x",null).force("y",null).force("collide",null);const A=200/(x(z)||1);o()===0||o()===1?S.force("x",un(b=>b.homeX).strength(1)).force("y",cn(b=>b.homeY).strength(1)):o()===2?S.force("x",un(b=>b.type==="out-state"?R.x:B.x).strength(.08)).force("y",cn(b=>b.type==="out-state"?R.y:B.y).strength(.08)).force("collide",N):o()===3?S.force("x",un(b=>b.type==="out-state"?R.x:b.homeX).strength(b=>b.type==="out-state"?.08:.8)).force("y",cn(b=>b.type==="out-state"?R.y:b.homeY).strength(b=>b.type==="out-state"?.08:.8)):o()>=4&&S.force("x",un(b=>b.type==="in-state"?b.homeX-A:b.type==="expenditure"?b.homeX+A:-1e3).strength(1)).force("y",cn(b=>b.homeY).strength(1))});function H(N,A){return N.type==="expenditure"?N.r_map:N.type==="out-state"||A===2?N.r_compare:N.r_map}function X(N,A){return A<=1?N.type==="out-state"?.95:0:A===2?N.type==="out-state"||N.type==="in-state"?.95:0:A===3?N.type==="in-state"?.95:0:A===4&&(N.type==="in-state"||N.type==="expenditure")?.95:0}function Et(N,A){let b=0,K="none";return A==="funding"?(b=F.get(N.id)||0,K=b>0?d(b):"#f0f0f0"):A==="expenditure"&&(b=P.get(N.id)||0,K=b>0?p(b):"#f0f0f0"),K}function ct(N,A){o()!==1&&o()!==5&&(Z($,A,!0),Z(I,{x:N.clientX+15,y:N.clientY+15},!0))}var lt=gi(),at=it(lt);Y(at,"viewBox","0 0 960 600");var vt=it(at),pt=it(vt),_o=it(pt);{var ka=N=>{var A=ja(),b=So(A);Dt(b,17,()=>x(g),qt,(K,V)=>{var Q=ii();xt(C=>{Y(Q,"d",C),Y(Q,"opacity",o()===2?0:1)},[()=>y(x(V))]),rt(K,Q)}),rt(N,A)};ln(_o,N=>{o()<3&&N(ka)})}var po=ut(_o);{var Oa=N=>{var A=ui();Dt(A,21,()=>x(v),qt,(b,K)=>{var V=li();xt(Q=>Y(V,"d",Q),[()=>y(x(K))]),rt(b,V)}),U(A),rt(N,A)};ln(po,N=>{o()===3&&N(Oa)})}var $a=ut(po);{var Pa=N=>{var A=fi(),b=So(A),K=it(b);Dt(K,17,()=>x(v),qt,(J,Nt)=>{var wt=ci();xt((Rt,zt)=>{Y(wt,"d",Rt),Y(wt,"fill",zt)},[()=>y(x(Nt)),()=>o()===5?Et(x(Nt),"funding"):"none"]),rt(J,wt)});var V=ut(K);U(b);var Q=ut(b),C=it(Q);Dt(C,17,()=>x(v),qt,(J,Nt)=>{var wt=si();xt((Rt,zt)=>{Y(wt,"d",Rt),Y(wt,"fill",zt)},[()=>y(x(Nt)),()=>o()===5?Et(x(Nt),"expenditure"):"none"]),rt(J,wt)});var T=ut(C);U(Q),xt(()=>{Lt(b,`transform: translate(-${200/x(z)}px, 0); transition: transform 1s;`),Y(V,"x",x(m).x),Y(V,"y",x(m).y-150),Lt(Q,`transform: translate(${200/x(z)}px, 0); transition: transform 1s;`),Y(T,"x",x(m).x),Y(T,"y",x(m).y-150)}),rt(N,A)};ln($a,N=>{o()>=4&&N(Pa)})}U(pt);var en=ut(pt);Dt(en,21,()=>x(E),qt,(N,A)=>{var b=hi();let K;xt(V=>{Y(b,"d",x(A).path),Y(b,"stroke",x(A).color),Y(b,"stroke-width",x(A).strokeWidth),K=Qa(b,0,"flow-line svelte-q10rby",null,K,V)},[()=>({animate:o()===1})]),rt(N,b)}),U(en);var go=ut(en);Dt(go,21,()=>x(w),qt,(N,A)=>{var b=di();b.__mousemove=[_i,ct,$],xt((K,V)=>{Y(b,"cx",x(A).x),Y(b,"cy",x(A).y),Y(b,"r",K),Y(b,"fill",x(A).color),Y(b,"stroke-width",1.5/(o()>=3?x(z):1)),Y(b,"opacity",V)},[()=>H(x(A),o())/(o()>=3?x(z)*.8:1),()=>X(x(A),o())]),xo("mouseenter",b,K=>ct(K,x(A))),xo("mouseleave",b,()=>Z($,null)),rt(N,b)}),U(go),U(vt);var Pn=ut(vt),yo=it(Pn),Ca=ut(yo);U(Pn),U(at);var Ra=ut(at,2);{var za=N=>{var A=pi(),b=it(A),K=it(b,!0);U(b);var V=ut(b,2),Q=ut(V,3),C=it(Q,!0);U(Q),U(A),xt(T=>{Lt(A,`top: ${x(I).y??""}px; left: ${x(I).x??""}px;`),In(K,x($).type==="out-state"?x($).contributor_state:x($).county),In(V,` ${x($).formattedAmount??""}`),In(C,T)},[()=>x($).type.replace("-"," ")]),rt(N,A)};ln(Ra,N=>{x($)&&N(za)})}U(lt),xt(()=>{Lt(vt,`transform: ${x(O)??""};`),Lt(en,`opacity: ${o()===1?1:0}; transition: opacity 1s;`),Lt(Pn,`opacity: ${o()===2?1:0}; transition: opacity 1s; pointer-events: none;`),Y(yo,"x",R.x),Y(Ca,"x",B.x)}),Eo(lt,"clientWidth",N=>Z(c,N)),Eo(lt,"clientHeight",N=>Z(u,N)),rt(t,lt),Ba()}Xa(["mousemove"]);var mi=an('<div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>1. Funding Sources</h2> <p>Visualizing the origins of funding across the United States...</p></div></div> <div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>2. Inflow</h2> <p>Tracking the flow of capital into the state of Michigan...</p></div></div> <div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>3. State Convergence</h2> <p>Separating In-State vs Out-of-State contributions...</p></div></div> <div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>4. Michigan Focus</h2> <p>Zooming into the county level distribution of funding.</p></div></div> <div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>5. Funding vs. Expenditure</h2> <p>Left: Funding received.<br/>Right: Expenditures made.<br/>Comparing the inflow and outflow dynamics side-by-side.</p></div></div> <div class="step svelte-tfcqlg"><div class="card svelte-tfcqlg"><h2>6. County Density</h2> <p>Transforming individual data points into a density map to show overall concentration per county.</p></div></div>',1),vi=an('<section class="layout-grid svelte-tfcqlg"><div class="scrolly-column svelte-tfcqlg"><!></div> <div class="chart-column svelte-tfcqlg"><div class="sticky-wrapper svelte-tfcqlg"><!></div></div></section>');function wi(t,n){let o=et(0);var a=vi(),e=it(a),i=it(e);Ha(i,{get value(){return x(o)},set value(c){Z(o,c,!0)},children:(c,u)=>{var f=mi();Wa(10),rt(c,f)},$$slots:{default:!0}}),U(e);var l=ut(e,2),r=it(l),h=it(r);yi(h,{get data(){return n.data},get step(){return x(o)}}),U(r),U(l),U(a),rt(t,a)}var Si=an('<meta name="description" content="Visualizing out-of-state contributions."/>');function zi(t,n){Ya(o=>{var a=Si();Ga.title="Michigan Campaign Finance Flow",rt(o,a)}),wi(t,{get data(){return n.data}})}export{zi as component,Ri as universal};
