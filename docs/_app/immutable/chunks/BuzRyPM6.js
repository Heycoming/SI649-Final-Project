import{b as g,h,a as R,E as m,H as x,I as D,J as F,K as L,M as b,c as O,d as y,e as q,U as C,s as H,N as M,p as U,f as Y,O as z,Q as B,z as J,R as K,S as P}from"./CKgwVAhL.js";function Z(s,t,l=!1){h&&R();var i=s,e=null,a=null,r=C,I=l?m:0,d=!1;const N=(c,f=!0)=>{d=!0,p(f,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?e:a,f=r?a:e;c&&M(c),f&&U(f,()=>{r?a=null:e=null})}const p=(c,f)=>{if(r===(r=c))return;let v=!1;if(h){const S=x(i)===D;!!r===S&&(i=F(),L(i),b(!1),v=!0)}var T=H(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=O())),r?e??(e=f&&y(()=>f(u))):a??(a=f&&y(()=>f(u))),T){var _=q,k=r?e:a,E=r?a:e;k&&_.skipped_effects.delete(k),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();v&&b(!0)};g(()=>{d=!1,t(N),d||p(null,null)},I),h&&(i=Y)}function A(s,t){return s===t||(s==null?void 0:s[P])===t}function j(s={},t,l,i){return z(()=>{var e,a;return B(()=>{e=a,a=[],J(()=>{s!==l(...a)&&(t(s,...a),e&&A(l(...e),s)&&t(null,...e))})}),()=>{K(()=>{a&&A(l(...a),s)&&t(null,...a)})}}),s}export{j as b,Z as i};
