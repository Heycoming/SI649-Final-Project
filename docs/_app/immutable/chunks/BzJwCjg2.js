import"./Bzak7iHL.js";import{g as A,u as g,i as B,j as E,n as M,r as T}from"./CKgwVAhL.js";import{f as V,a as k}from"./BUE8JSEm.js";import{s as z}from"./n3vzaLls.js";import{b as C}from"./BuzRyPM6.js";import{p as r}from"./CPuNzMqN.js";var D=V("<div><!></div>");function N(x,e){A(e,!0);let I=r(e,"root",3,null),a=r(e,"top",3,0),c=r(e,"bottom",3,0),p=r(e,"increments",3,100),u=r(e,"value",15,void 0),i=[],d=[],l=[],f=[],m;function _(){let t=0,o=0;for(let n=0;n<i.length;n++)i[n]>t&&(t=i[n],o=n);t>0?u(o):u(void 0)}function O(t,o){const n=b=>{b[0].isIntersecting;const q=b[0].intersectionRatio;i[o]=q,_()},w=a()?a()*-1:0,y=c()?c()*-1:0,R=`${w}px 0px ${y}px 0px`,j={root:I(),rootMargin:R,threshold:d};f[o]&&f[o].disconnect();const v=new IntersectionObserver(n,j);v.observe(t),f[o]=v}function h(){l.length&&l.forEach(O)}g(()=>{for(let t=0;t<p()+1;t++)d.push(t/p());l=m.querySelectorAll(":scope > *:not(iframe)"),h()}),g(()=>{a(),c(),h()});var s=D(),S=E(s);z(S,()=>e.children??M),T(s),C(s,t=>m=t,()=>m),k(x,s),B()}export{N as S};
