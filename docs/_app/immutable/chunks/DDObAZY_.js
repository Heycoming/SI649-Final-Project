import"./Bzak7iHL.js";import{m as B,u as g,n as E,o as M,q as T,v as V}from"./DPf3yx9i.js";import{f as j,b as k}from"./DZTUO8BA.js";import{s as z}from"./B21fJXu_.js";import{b as C}from"./CH3JR8z5.js";import{p as r}from"./BUwVMXLK.js";var D=j("<div><!></div>");function N(x,e){B(e,!0);let I=r(e,"root",3,null),a=r(e,"top",3,0),c=r(e,"bottom",3,0),p=r(e,"increments",3,100),u=r(e,"value",15,void 0),i=[],d=[],l=[],m=[],f;function _(){let t=0,o=0;for(let n=0;n<i.length;n++)i[n]>t&&(t=i[n],o=n);t>0?u(o):u(void 0)}function O(t,o){const n=b=>{b[0].isIntersecting;const A=b[0].intersectionRatio;i[o]=A,_()},q=a()?a()*-1:0,w=c()?c()*-1:0,y=`${q}px 0px ${w}px 0px`,R={root:I(),rootMargin:y,threshold:d};m[o]&&m[o].disconnect();const h=new IntersectionObserver(n,R);h.observe(t),m[o]=h}function v(){l.length&&l.forEach(O)}g(()=>{for(let t=0;t<p()+1;t++)d.push(t/p());l=f.querySelectorAll(":scope > *:not(iframe)"),v()}),g(()=>{a(),c(),v()});var s=D(),S=M(s);z(S,()=>e.children??T),V(s),C(s,t=>f=t,()=>f),k(x,s),E()}export{N as S};
