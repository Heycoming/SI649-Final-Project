import{b as N,h,a as R,E as m,Q as x,R as D,T as F,k as L,U as b,c as Y,d as y,e as q,V as C,s as O,W as U,p as Z,f as B,X as H,Y as J,J as M,Z as P,S as Q}from"./DPf3yx9i.js";function W(s,t,l=!1){h&&R();var i=s,e=null,a=null,r=C,S=l?m:0,d=!1;const g=(c,f=!0)=>{d=!0,p(f,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?e:a,f=r?a:e;c&&U(c),f&&Z(f,()=>{r?a=null:e=null})}const p=(c,f)=>{if(r===(r=c))return;let v=!1;if(h){const I=x(i)===D;!!r===I&&(i=F(),L(i),b(!1),v=!0)}var T=O(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=Y())),r?e??(e=f&&y(()=>f(u))):a??(a=f&&y(()=>f(u))),T){var _=q,k=r?e:a,E=r?a:e;k&&_.skipped_effects.delete(k),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();v&&b(!0)};N(()=>{d=!1,t(g),d||p(null,null)},S),h&&(i=B)}function A(s,t){return s===t||(s==null?void 0:s[Q])===t}function X(s={},t,l,i){return H(()=>{var e,a;return J(()=>{e=a,a=[],M(()=>{s!==l(...a)&&(t(s,...a),e&&A(l(...e),s)&&t(null,...e))})}),()=>{P(()=>{a&&A(l(...a),s)&&t(null,...a)})}}),s}export{X as b,W as i};
